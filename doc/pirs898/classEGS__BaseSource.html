<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>EGSnrc C++ class library: EGS_BaseSource Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">EGSnrc C++ class library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>EGS_BaseSource Class Reference<div class="ingroups"><a class="el" href="group__Sources.html">Particle sources</a> &#124; <a class="el" href="group__egspp__main.html">Main library</a></div></h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="EGS_BaseSource" --><!-- doxytag: inherits="EGS_Object" -->
<p>Base source class. All particle sources must be derived from this class.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for EGS_BaseSource:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classEGS__BaseSource.png" usemap="#EGS_BaseSource_map" alt=""/>
  <map id="EGS_BaseSource_map" name="EGS_BaseSource_map">
<area href="classEGS__Object.html" alt="EGS_Object" shape="rect" coords="633,0,804,24"/>
<area href="classEGS__AngularSpreadSource.html" alt="EGS_AngularSpreadSource" shape="rect" coords="0,112,171,136"/>
<area href="classEGS__BaseSimpleSource.html" alt="EGS_BaseSimpleSource" shape="rect" coords="271,112,442,136"/>
<area href="classEGS__BeamSource.html" alt="EGS_BeamSource" shape="rect" coords="452,112,623,136"/>
<area href="classEGS__PhspSource.html" alt="EGS_PhspSource" shape="rect" coords="633,112,804,136"/>
<area href="classEGS__SourceCollection.html" alt="EGS_SourceCollection" shape="rect" coords="814,112,985,136"/>
<area href="classEGS__TransformedSource.html" alt="EGS_TransformedSource" shape="rect" coords="995,112,1166,136"/>
<area href="classIAEA__PhspSource.html" alt="IAEA_PhspSource" shape="rect" coords="1176,112,1347,136"/>
<area href="classEGS__CollimatedSource.html" alt="EGS_CollimatedSource" shape="rect" coords="0,168,171,192"/>
<area href="classEGS__IsotropicSource.html" alt="EGS_IsotropicSource" shape="rect" coords="181,168,352,192"/>
<area href="classEGS__ParallelBeam.html" alt="EGS_ParallelBeam" shape="rect" coords="362,168,533,192"/>
<area href="classEGS__PointSource.html" alt="EGS_PointSource" shape="rect" coords="543,168,714,192"/>
</map>
 </div></div>

<p><a href="classEGS__BaseSource-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSource.html#a49fd33881f1849c9688ef21ee37ebe32">EGS_BaseSource</a> (const string &amp;Name=&quot;&quot;, <a class="el" href="classEGS__ObjectFactory.html">EGS_ObjectFactory</a> *f=0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a source named <em>Name</em>.  <a href="#a49fd33881f1849c9688ef21ee37ebe32"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSource.html#a1b694b64b58503f23369843b1c7f8959">EGS_BaseSource</a> (<a class="el" href="classEGS__Input.html">EGS_Input</a> *input, <a class="el" href="classEGS__ObjectFactory.html">EGS_ObjectFactory</a> *f=0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a source from the input pointed to by <em>inp</em>.  <a href="#a1b694b64b58503f23369843b1c7f8959"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSource.html#a06164f935afc34ff096219975a2bd287">getSourceDescription</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a short description of this source.  <a href="#a06164f935afc34ff096219975a2bd287"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EGS_I64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSource.html#aac271bf033f41e63d83683f8faba9f01">getNextParticle</a> (<a class="el" href="classEGS__RandomGenerator.html">EGS_RandomGenerator</a> *rndm, int &amp;q, int &amp;latch, EGS_Float &amp;E, EGS_Float &amp;wt, <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;x, <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;u)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sample the next source particle from the source probability distribution.  <a href="#aac271bf033f41e63d83683f8faba9f01"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSource.html#a31febc3f97906712aab849f948eb102b">setSimulationChunk</a> (EGS_I64 nstart, EGS_I64 nrun)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the next simulation chunk to start at <em>nstart</em> and to consist of <em>nrun</em> particles.  <a href="#a31febc3f97906712aab849f948eb102b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSource.html#a75a510c07ac91a4866c77f649ef90bfe">getEmax</a> () const =0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the maximum energy of this source.  <a href="#a75a510c07ac91a4866c77f649ef90bfe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSource.html#a7cc529dacf022256477ba3bf7da33aa2">getFluence</a> () const =0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the fluence this source has emitted so far.  <a href="#a7cc529dacf022256477ba3bf7da33aa2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSource.html#a4c464951dd4a93ed1155dc8e9bbbba2c">storeState</a> (ostream &amp;data_out) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the source state into the stream <em>data_out</em>.  <a href="#a4c464951dd4a93ed1155dc8e9bbbba2c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSource.html#ad2ff6a20ae831eef48b8efb8b9bd202d">setState</a> (istream &amp;data_in)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the source state based on data from the stream <em>data_in</em>.  <a href="#ad2ff6a20ae831eef48b8efb8b9bd202d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSource.html#a152a7d50ae853fd0fd18c8895e5c516f">addState</a> (istream &amp;data_in)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add data from the stream <em>data_in</em> to the source state.  <a href="#a152a7d50ae853fd0fd18c8895e5c516f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSource.html#a82dc0b0f2f506ff9d15a6b3d4c3127b3">resetCounter</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the source state.  <a href="#a82dc0b0f2f506ff9d15a6b3d4c3127b3"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classEGS__BaseSource.html">EGS_BaseSource</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSource.html#ab030785aaf067040d5abce7061f9b01a">createSource</a> (<a class="el" href="classEGS__Input.html">EGS_Input</a> *)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create sources from the information pointed to by <em>input</em>.  <a href="#ab030785aaf067040d5abce7061f9b01a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classEGS__BaseSource.html">EGS_BaseSource</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSource.html#a60af23bf71e2400be75ad81de607a8b0">getSource</a> (const string &amp;Name)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the source named <em>Name</em>.  <a href="#a60af23bf71e2400be75ad81de607a8b0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSource.html#a727ed5a1a53b6c2613386496b883d974">addKnownSource</a> (<a class="el" href="classEGS__BaseSource.html">EGS_BaseSource</a> *o)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a known source object to the source factory.  <a href="#a727ed5a1a53b6c2613386496b883d974"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSource.html#ab2ee914ff8e2e6f0f352926ab7f74d7e">addKnownTypeId</a> (const char *<a class="el" href="classEGS__Object.html#adc88320170df87e092c3d1d43bcfabec">name</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a known source object typeid to the source factory.  <a href="#ab2ee914ff8e2e6f0f352926ab7f74d7e"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSource.html#a8cd077c4dc46018211a8be539b33493c">description</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A short source description.  <a href="#a8cd077c4dc46018211a8be539b33493c"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Base source class. All particle sources must be derived from this class. </p>
<p>Particle sources in the EGSnrc C++ class library are classes derived from the base source class and compiled into dynamic shared objects (a.k.a. DLLs) that get dynamically loaded at run time as specified by the sources property <code>source definition</code> (see <a class="el" href="group__Sources.html">Particle sources</a>). The base source defines the interface to a source object. The main method is <a class="el" href="classEGS__BaseSource.html#aac271bf033f41e63d83683f8faba9f01" title="Sample the next source particle from the source probability distribution.">getNextParticle()</a> which returns the parameter of a single particle distributed according to some probability distribution. Additional functions that must be implemented by derived classes are</p>
<ul>
<li><a class="el" href="classEGS__BaseSource.html#a75a510c07ac91a4866c77f649ef90bfe" title="Return the maximum energy of this source.">getEmax()</a>: returns the maximum energy of the source</li>
<li><a class="el" href="classEGS__BaseSource.html#a7cc529dacf022256477ba3bf7da33aa2" title="Return the fluence this source has emitted so far.">getFluence()</a>: returns the fluence the source has emitted so far</li>
<li><a class="el" href="classEGS__BaseSource.html#a06164f935afc34ff096219975a2bd287" title="Get a short description of this source.">getSourceDescription()</a>: returns a string describing the source</li>
<li><a class="el" href="classEGS__BaseSource.html#a4c464951dd4a93ed1155dc8e9bbbba2c" title="Store the source state into the stream data_out.">storeState()</a>, <a class="el" href="classEGS__BaseSource.html#ad2ff6a20ae831eef48b8efb8b9bd202d" title="Set the source state based on data from the stream data_in.">setState()</a>, <a class="el" href="classEGS__BaseSource.html#a82dc0b0f2f506ff9d15a6b3d4c3127b3" title="Reset the source state.">resetCounter()</a>, <a class="el" href="classEGS__BaseSource.html#a152a7d50ae853fd0fd18c8895e5c516f" title="Add data from the stream data_in to the source state.">addState()</a>: these are functions needed for restarting calculations or combining the results of parallel runs</li>
</ul>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>Add time dependence</dd></dl>
<dl><dt><b>Examples: </b></dt><dd>
<p><a class="el" href="sources_2egs_point_source_2egs_point_source_8cpp-example.html#_a18">sources/egs_point_source/egs_point_source.cpp</a>.</p>
</dd>
</dl>
<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00080">80</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a49fd33881f1849c9688ef21ee37ebe32"></a><!-- doxytag: member="EGS_BaseSource::EGS_BaseSource" ref="a49fd33881f1849c9688ef21ee37ebe32" args="(const string &amp;Name=&quot;&quot;, EGS_ObjectFactory *f=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EGS_BaseSource::EGS_BaseSource </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>Name</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEGS__ObjectFactory.html">EGS_ObjectFactory</a> *&#160;</td>
          <td class="paramname"><em>f</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Construct a source named <em>Name</em>. </p>

<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00087">87</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1b694b64b58503f23369843b1c7f8959"></a><!-- doxytag: member="EGS_BaseSource::EGS_BaseSource" ref="a1b694b64b58503f23369843b1c7f8959" args="(EGS_Input *input, EGS_ObjectFactory *f=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EGS_BaseSource::EGS_BaseSource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEGS__Input.html">EGS_Input</a> *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEGS__ObjectFactory.html">EGS_ObjectFactory</a> *&#160;</td>
          <td class="paramname"><em>f</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Construct a source from the input pointed to by <em>inp</em>. </p>
<p>The property tree pointed to by <em>inp</em> must contain at least the following key-value pairs:<br/>
<br/>
<code> name = name of this source <br/>
 library = source library <br/>
<br/>
</code> plus additional information as needed by the source being created. </p>

<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00098">98</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a06164f935afc34ff096219975a2bd287"></a><!-- doxytag: member="EGS_BaseSource::getSourceDescription" ref="a06164f935afc34ff096219975a2bd287" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* EGS_BaseSource::getSourceDescription </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a short description of this source. </p>
<p>Derived source classes should set <a class="el" href="classEGS__BaseSource.html#a8cd077c4dc46018211a8be539b33493c" title="A short source description.">description</a> to a short string describing the source type. </p>

<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00107">107</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00567">EGS_Application::describeSimulation()</a>.</p>

</div>
</div>
<a class="anchor" id="aac271bf033f41e63d83683f8faba9f01"></a><!-- doxytag: member="EGS_BaseSource::getNextParticle" ref="aac271bf033f41e63d83683f8faba9f01" args="(EGS_RandomGenerator *rndm, int &amp;q, int &amp;latch, EGS_Float &amp;E, EGS_Float &amp;wt, EGS_Vector &amp;x, EGS_Vector &amp;u)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual EGS_I64 EGS_BaseSource::getNextParticle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEGS__RandomGenerator.html">EGS_RandomGenerator</a> *&#160;</td>
          <td class="paramname"><em>rndm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>latch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EGS_Float &amp;&#160;</td>
          <td class="paramname"><em>E</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EGS_Float &amp;&#160;</td>
          <td class="paramname"><em>wt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sample the next source particle from the source probability distribution. </p>
<p>This is the main interface function of a particle source. It must be implemented in derived classes to sample a particle from the source probability distribution using the random number generator <em>rndm</em> and to set <em>q</em> to the particle charge, <em>latch</em> to the particle latch, <em>E</em> to the particle kinetic energy, <em>wt</em> to the particle statistical weight and <em>x</em> and <em>u</em> to the particle position and direction. The return value must be the number of statistically independent particles sampled so far. For simple sources this is typically equal to the number of particles sampled, but this may not be the case for more complicated sources (<em>e.g</em>. for a phase-space file source of a treatment head simulation the statistically independent particles are the electrons impinging on the bremsstrahlung target or vacuum exit window, and not individual particles in the phase-space file) or sources that implement some sort of systematic sampling of the beam area. </p>

<p>Implemented in <a class="el" href="classEGS__BaseSimpleSource.html#aff8f779daa8394fe1692890bfb8650b9">EGS_BaseSimpleSource</a>.</p>

<p>Referenced by <a class="el" href="egs__simple__application_8cpp_source.html#l00234">EGS_SimpleApplication::run()</a>, and <a class="el" href="egs__application_8cpp_source.html#l00648">EGS_Application::simulateSingleShower()</a>.</p>

</div>
</div>
<a class="anchor" id="a31febc3f97906712aab849f948eb102b"></a><!-- doxytag: member="EGS_BaseSource::setSimulationChunk" ref="a31febc3f97906712aab849f948eb102b" args="(EGS_I64 nstart, EGS_I64 nrun)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void EGS_BaseSource::setSimulationChunk </td>
          <td>(</td>
          <td class="paramtype">EGS_I64&#160;</td>
          <td class="paramname"><em>nstart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EGS_I64&#160;</td>
          <td class="paramname"><em>nrun</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the next simulation chunk to start at <em>nstart</em> and to consist of <em>nrun</em> particles. </p>
<p>This method is needed for parallel runs when using phase space files. It may also be re-implemented, if one wanted to use some sort of a systematic sampling of the phase space. </p>

<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00141">141</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00563">EGS_Application::setSimulationChunk()</a>.</p>

</div>
</div>
<a class="anchor" id="a75a510c07ac91a4866c77f649ef90bfe"></a><!-- doxytag: member="EGS_BaseSource::getEmax" ref="a75a510c07ac91a4866c77f649ef90bfe" args="() const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual EGS_Float EGS_BaseSource::getEmax </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the maximum energy of this source. </p>
<p>This pure virtual function must be implemented in derived classes to return the maximum energy of the source. This is needed to check if the cross section data from the PEGS file covers the energy range of the simulation and will be needed in future EGSnrc versions, where the cross section data initialization will be done at run time, to define the necessary energy range for the cross section data </p>

<p>Implemented in <a class="el" href="classEGS__BaseSimpleSource.html#a337db7f94a201ba52af63b1d8a8db03f">EGS_BaseSimpleSource</a>.</p>

<p>Referenced by <a class="el" href="egs__simple__application_8cpp_source.html#l00103">EGS_SimpleApplication::EGS_SimpleApplication()</a>.</p>

</div>
</div>
<a class="anchor" id="a7cc529dacf022256477ba3bf7da33aa2"></a><!-- doxytag: member="EGS_BaseSource::getFluence" ref="a7cc529dacf022256477ba3bf7da33aa2" args="() const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual EGS_Float EGS_BaseSource::getFluence </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the fluence this source has emitted so far. </p>
<p>This pure virtual function must be implemented in derived classes to return the particle "fluence" emitted so far by the source. Every source can have their own definition of "fluence". The particle "fluence" will be typically used in EGSnrc C++ user codes for normalization purposes. Some of the sources provided with the EGSnrc C++ class library define this quantity as real fluence (<em>i.e</em>. particles per unit area), whereas others define it as the number of statistically independent particles delivered so far (<em>e.g</em>. the phase-space file source and the BEAM simulation source). </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sources_2egs_point_source_2egs_point_source_8cpp-example.html#a24">sources/egs_point_source/egs_point_source.cpp</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a4c464951dd4a93ed1155dc8e9bbbba2c"></a><!-- doxytag: member="EGS_BaseSource::storeState" ref="a4c464951dd4a93ed1155dc8e9bbbba2c" args="(ostream &amp;data_out) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool EGS_BaseSource::storeState </td>
          <td>(</td>
          <td class="paramtype">ostream &amp;&#160;</td>
          <td class="paramname"><em>data_out</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store the source state into the stream <em>data_out</em>. </p>
<p>Every source should reimplement this method to store the data needed to set the state of the source to its current state into the stream <em>data_out</em>. This is used for restarted calculations. Examples of data needed is the number of statistically independent particles delivered so far by the source. Should return <code>true</code> on success, <code>false</code> on failure.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classEGS__BaseSource.html#ad2ff6a20ae831eef48b8efb8b9bd202d" title="Set the source state based on data from the stream data_in.">setState()</a>, <a class="el" href="classEGS__BaseSource.html#a152a7d50ae853fd0fd18c8895e5c516f" title="Add data from the stream data_in to the source state.">addState()</a>, <a class="el" href="classEGS__BaseSource.html#a82dc0b0f2f506ff9d15a6b3d4c3127b3" title="Reset the source state.">resetCounter()</a>. </dd></dl>

<p>Reimplemented in <a class="el" href="classEGS__BaseSimpleSource.html#a117b4a656f140be67a2cbe5b20098892">EGS_BaseSimpleSource</a>.</p>

<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00181">181</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00364">EGS_Application::outputData()</a>.</p>

</div>
</div>
<a class="anchor" id="ad2ff6a20ae831eef48b8efb8b9bd202d"></a><!-- doxytag: member="EGS_BaseSource::setState" ref="ad2ff6a20ae831eef48b8efb8b9bd202d" args="(istream &amp;data_in)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool EGS_BaseSource::setState </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>data_in</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the source state based on data from the stream <em>data_in</em>. </p>
<p>Every source should reimplement this method to read from the stream <em>data_in</em> data previously stored using <a class="el" href="classEGS__BaseSource.html#a4c464951dd4a93ed1155dc8e9bbbba2c" title="Store the source state into the stream data_out.">storeState()</a> and to set its state according to this data. This is used for restarted calculations. Should return <code>true</code> on success, <code>false</code> on failure (<em>e.g</em>. I/O error).</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classEGS__BaseSource.html#a152a7d50ae853fd0fd18c8895e5c516f" title="Add data from the stream data_in to the source state.">addState()</a>, <a class="el" href="classEGS__BaseSource.html#a4c464951dd4a93ed1155dc8e9bbbba2c" title="Store the source state into the stream data_out.">storeState()</a>, <a class="el" href="classEGS__BaseSource.html#a82dc0b0f2f506ff9d15a6b3d4c3127b3" title="Reset the source state.">resetCounter()</a> </dd></dl>

<p>Reimplemented in <a class="el" href="classEGS__BaseSimpleSource.html#a796561f0e95149153475c79bca882e6a">EGS_BaseSimpleSource</a>.</p>

<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00193">193</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00389">EGS_Application::readData()</a>.</p>

</div>
</div>
<a class="anchor" id="a152a7d50ae853fd0fd18c8895e5c516f"></a><!-- doxytag: member="EGS_BaseSource::addState" ref="a152a7d50ae853fd0fd18c8895e5c516f" args="(istream &amp;data_in)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool EGS_BaseSource::addState </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>data_in</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add data from the stream <em>data_in</em> to the source state. </p>
<p>This method is required for combining the results of parallel runs. It should therefore be re-implemented in derived classes to update its own state with the data read from the input stream <em>data_in</em>. For instance, if the total number of statistically independent particles delivered so far is the only data the source needs, then this number should be read from the stream <em>data_in</em> and added to the number of statistically independent particles delivered by this source.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classEGS__BaseSource.html#a4c464951dd4a93ed1155dc8e9bbbba2c" title="Store the source state into the stream data_out.">storeState()</a>, <a class="el" href="classEGS__BaseSource.html#ad2ff6a20ae831eef48b8efb8b9bd202d" title="Set the source state based on data from the stream data_in.">setState()</a>, <a class="el" href="classEGS__BaseSource.html#a82dc0b0f2f506ff9d15a6b3d4c3127b3" title="Reset the source state.">resetCounter()</a>. </dd></dl>

<p>Reimplemented in <a class="el" href="classEGS__BaseSimpleSource.html#aa8a74bf9ecec032018d3d761f69f58ab">EGS_BaseSimpleSource</a>.</p>

<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00207">207</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00423">EGS_Application::addState()</a>.</p>

</div>
</div>
<a class="anchor" id="a82dc0b0f2f506ff9d15a6b3d4c3127b3"></a><!-- doxytag: member="EGS_BaseSource::resetCounter" ref="a82dc0b0f2f506ff9d15a6b3d4c3127b3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void EGS_BaseSource::resetCounter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset the source state. </p>
<p>Derived sources should reimplement this method to reset all data describing their state to a "pristine" state (<em>i.e</em>. zero particles delivered so far). This is needed for combining the results of parallel runs where the generic implementation of <a class="el" href="classEGS__Application.html#ad79975ab3d843f8535d2a223992a43ab" title="Combine results from parallel runs.">EGS_Application::combineResults()</a> uses this method to reset the source state and then uses the <a class="el" href="classEGS__BaseSource.html#a152a7d50ae853fd0fd18c8895e5c516f" title="Add data from the stream data_in to the source state.">addState()</a> function to add the source data from all other parallel jobs. </p>

<p>Reimplemented in <a class="el" href="classEGS__BaseSimpleSource.html#ac2feffb9e070862cc0524fa178b67e02">EGS_BaseSimpleSource</a>.</p>

<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00220">220</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00412">EGS_Application::resetCounter()</a>.</p>

</div>
</div>
<a class="anchor" id="ab030785aaf067040d5abce7061f9b01a"></a><!-- doxytag: member="EGS_BaseSource::createSource" ref="ab030785aaf067040d5abce7061f9b01a" args="(EGS_Input *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEGS__BaseSource.html">EGS_BaseSource</a> * EGS_BaseSource::createSource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEGS__Input.html">EGS_Input</a> *&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create sources from the information pointed to by <em>input</em>. </p>
<p>This static function creates all sources specified by the information stored in an <a class="el" href="classEGS__Input.html" title="A class for storing information in a tree-like structure of key-value pairs. This class is used throu...">EGS_Input</a> object and pointed to by <em>inp</em>. It looks for a composite property <code>source definition</code> in the input tree. If such property exists, it looks for sub-properties <code>source</code> and for each such property that contains a <code>library</code> and <code>name</code> key-value pairs, loads the DSO specified by the <code>library</code> key, resolves the address of the <code>createSource</code> function that must be provided by the DSO and calls this function passing the <code>source</code> property to it. If the <code>source</code> property contains a valid information sufficient to create a particle source of the given type, the <code>createSource</code> creates the source and returns a pointer to it. The process is continued until there are no further <code>source</code> properties in the <code>source definition</code> input. All sources created in this way are added to a global list list of particle sources and can be retrieved later by name using the <a class="el" href="classEGS__BaseSource.html#a60af23bf71e2400be75ad81de607a8b0" title="Get a pointer to the source named Name.">getSource()</a> static function. The return value of this function is</p>
<ul>
<li><code>null</code>, if there was no valid source input</li>
<li>A pointer to the last source created, if there was no <code>simulation source</code> key in <code>source definition</code></li>
<li>A pointer to the source specified by name using the <code>simulation source</code> or <code>null</code>, if such source does not exist. </li>
</ul>

<p>Definition at line <a class="el" href="egs__base__source_8cpp_source.html#l00055">55</a> of file <a class="el" href="egs__base__source_8cpp_source.html">egs_base_source.cpp</a>.</p>

<p>Referenced by <a class="el" href="egs__simple__application_8cpp_source.html#l00103">EGS_SimpleApplication::EGS_SimpleApplication()</a>, <a class="el" href="egs__source__collection_8cpp_source.html#l00040">EGS_SourceCollection::EGS_SourceCollection()</a>, <a class="el" href="egs__transformed__source_8cpp_source.html#l00040">EGS_TransformedSource::EGS_TransformedSource()</a>, and <a class="el" href="egs__application_8cpp_source.html#l00483">EGS_Application::initSource()</a>.</p>

</div>
</div>
<a class="anchor" id="a60af23bf71e2400be75ad81de607a8b0"></a><!-- doxytag: member="EGS_BaseSource::getSource" ref="a60af23bf71e2400be75ad81de607a8b0" args="(const string &amp;Name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEGS__BaseSource.html">EGS_BaseSource</a> * EGS_BaseSource::getSource </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>Name</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a pointer to the source named <em>Name</em>. </p>
<p>A static list of sources created so far is maintained internally and this method can be used to get a source with a given name. Returns a pointer to the soure, if a source named <em>Name</em> exists, <code>null</code> otherwise. </p>

<p>Definition at line <a class="el" href="egs__base__source_8cpp_source.html#l00062">62</a> of file <a class="el" href="egs__base__source_8cpp_source.html">egs_base_source.cpp</a>.</p>

<p>References <a class="el" href="egs__functions_8cpp_source.html#l00116">egsWarning</a>, and <a class="el" href="egs__object__factory_8h_source.html#l00110">EGS_Object::getObjectType()</a>.</p>

<p>Referenced by <a class="el" href="egs__source__collection_8cpp_source.html#l00040">EGS_SourceCollection::EGS_SourceCollection()</a>, and <a class="el" href="egs__transformed__source_8cpp_source.html#l00040">EGS_TransformedSource::EGS_TransformedSource()</a>.</p>

</div>
</div>
<a class="anchor" id="a727ed5a1a53b6c2613386496b883d974"></a><!-- doxytag: member="EGS_BaseSource::addKnownSource" ref="a727ed5a1a53b6c2613386496b883d974" args="(EGS_BaseSource *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EGS_BaseSource::addKnownSource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEGS__BaseSource.html">EGS_BaseSource</a> *&#160;</td>
          <td class="paramname"><em>o</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a known source object to the source factory. </p>
<p>This function adds the object <em>o</em> to the list of known sources maintained internally by the static source factory. That way, an application can define its own particle sources (in addition to the sources provided by egspp) and use them. </p>

<p>Definition at line <a class="el" href="egs__base__source_8cpp_source.html#l00073">73</a> of file <a class="el" href="egs__base__source_8cpp_source.html">egs_base_source.cpp</a>.</p>

<p>References <a class="el" href="egs__functions_8cpp_source.html#l00115">egsInformation</a>, and <a class="el" href="egs__object__factory_8h_source.html#l00110">EGS_Object::getObjectType()</a>.</p>

</div>
</div>
<a class="anchor" id="ab2ee914ff8e2e6f0f352926ab7f74d7e"></a><!-- doxytag: member="EGS_BaseSource::addKnownTypeId" ref="ab2ee914ff8e2e6f0f352926ab7f74d7e" args="(const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EGS_BaseSource::addKnownTypeId </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a known source object typeid to the source factory. </p>
<p>For whatever reason dynamic_cast to EGS_BaseSource* from EGS_Object* fails when an application is made into a shared library and dynamically loads a source DSO. I'm therefore adding this method so that source classes can add their typeid to allow for an additional check in such cases. </p>

<p>Definition at line <a class="el" href="egs__base__source_8cpp_source.html#l00079">79</a> of file <a class="el" href="egs__base__source_8cpp_source.html">egs_base_source.cpp</a>.</p>

<p>Referenced by <a class="el" href="egs__base__source_8h_source.html#l00718">createSourceTemplate()</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a8cd077c4dc46018211a8be539b33493c"></a><!-- doxytag: member="EGS_BaseSource::description" ref="a8cd077c4dc46018211a8be539b33493c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string <a class="el" href="classEGS__BaseSource.html#a8cd077c4dc46018211a8be539b33493c">EGS_BaseSource::description</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A short source description. </p>
<p>Derived source classes should set this data member to a short descriptive string. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sources_2egs_point_source_2egs_point_source_8cpp-example.html#a14">sources/egs_point_source/egs_point_source.cpp</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00286">286</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

<p>Referenced by <a class="el" href="egs__beam__source_8cpp_source.html#l00052">EGS_BeamSource::EGS_BeamSource()</a>, <a class="el" href="egs__phsp__source_8cpp_source.html#l00137">EGS_PhspSource::EGS_PhspSource()</a>, <a class="el" href="iaea__phsp__source_8cpp_source.html#l00173">IAEA_PhspSource::IAEA_PhspSource()</a>, and <a class="el" href="egs__point__source_8cpp_source.html#l00052">EGS_PointSource::setUp()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/ftessier/EGSnrc/github/EGSnrc-doc/HEN_HOUSE/egs++/<a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a></li>
<li>/home/ftessier/EGSnrc/github/EGSnrc-doc/HEN_HOUSE/egs++/<a class="el" href="egs__base__source_8cpp_source.html">egs_base_source.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
