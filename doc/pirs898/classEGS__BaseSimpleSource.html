<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>EGSnrc C++ class library: EGS_BaseSimpleSource Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">EGSnrc C++ class library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>EGS_BaseSimpleSource Class Reference<div class="ingroups"><a class="el" href="group__Sources.html">Particle sources</a> &#124; <a class="el" href="group__egspp__main.html">Main library</a></div></h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="EGS_BaseSimpleSource" --><!-- doxytag: inherits="EGS_BaseSource" -->
<p>Base class for 'simple' particle sources.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for EGS_BaseSimpleSource:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classEGS__BaseSimpleSource.png" usemap="#EGS_BaseSimpleSource_map" alt=""/>
  <map id="EGS_BaseSimpleSource_map" name="EGS_BaseSimpleSource_map">
<area href="classEGS__BaseSource.html" alt="EGS_BaseSource" shape="rect" coords="240,56,390,80"/>
<area href="classEGS__Object.html" alt="EGS_Object" shape="rect" coords="240,0,390,24"/>
<area href="classEGS__CollimatedSource.html" alt="EGS_CollimatedSource" shape="rect" coords="0,168,150,192"/>
<area href="classEGS__IsotropicSource.html" alt="EGS_IsotropicSource" shape="rect" coords="160,168,310,192"/>
<area href="classEGS__ParallelBeam.html" alt="EGS_ParallelBeam" shape="rect" coords="320,168,470,192"/>
<area href="classEGS__PointSource.html" alt="EGS_PointSource" shape="rect" coords="480,168,630,192"/>
</map>
 </div></div>

<p><a href="classEGS__BaseSimpleSource-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#a0bba051b0ee4d8a5a4e9f08ee1db196a">EGS_BaseSimpleSource</a> (int Q, <a class="el" href="classEGS__BaseSpectrum.html">EGS_BaseSpectrum</a> *Spec, const string &amp;Name=&quot;&quot;, <a class="el" href="classEGS__ObjectFactory.html">EGS_ObjectFactory</a> *f=0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a0bba051b0ee4d8a5a4e9f08ee1db196a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#aa3cdfd40f1596eb0a6369159868ef670">EGS_BaseSimpleSource</a> (<a class="el" href="classEGS__Input.html">EGS_Input</a> *input, <a class="el" href="classEGS__ObjectFactory.html">EGS_ObjectFactory</a> *f=0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a 'simple' particle source from the information pointed to by <em>input</em>.  <a href="#aa3cdfd40f1596eb0a6369159868ef670"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#a17c97f07a995ac223b4f997e4b764f46">~EGS_BaseSimpleSource</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a17c97f07a995ac223b4f997e4b764f46"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#ad99228597d9e9f4de5ce1251ad69f2d5">isValid</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this a valid source?  <a href="#ad99228597d9e9f4de5ce1251ad69f2d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EGS_I64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#aff8f779daa8394fe1692890bfb8650b9">getNextParticle</a> (<a class="el" href="classEGS__RandomGenerator.html">EGS_RandomGenerator</a> *rndm, int &amp;Q, int &amp;latch, EGS_Float &amp;E, EGS_Float &amp;wt, <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;x, <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;u)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sample the next source particle from the source probability distribution.  <a href="#aff8f779daa8394fe1692890bfb8650b9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#a4c4ce264223cf78497937fe6f3124f9b">getPositionDirection</a> (<a class="el" href="classEGS__RandomGenerator.html">EGS_RandomGenerator</a> *rndm, <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;x, <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;u, EGS_Float &amp;wt)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sample a particle position and direction.  <a href="#a4c4ce264223cf78497937fe6f3124f9b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#a337db7f94a201ba52af63b1d8a8db03f">getEmax</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the maximum energy of the source.  <a href="#a337db7f94a201ba52af63b1d8a8db03f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#a40470def37451ee0d0f91d1c99f4a7af">storeFluenceState</a> (ostream &amp;data_out) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the fluence state of this source to the data stream <em>data_out</em>.  <a href="#a40470def37451ee0d0f91d1c99f4a7af"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#a117b4a656f140be67a2cbe5b20098892">storeState</a> (ostream &amp;data_out) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the source state to the data stream <em>data_out</em>.  <a href="#a117b4a656f140be67a2cbe5b20098892"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#aa8a74bf9ecec032018d3d761f69f58ab">addState</a> (istream &amp;data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the source state from the stream <em>data</em> to the current state.  <a href="#aa8a74bf9ecec032018d3d761f69f58ab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#ac2feffb9e070862cc0524fa178b67e02">resetCounter</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the source to a state with zero sampled particles.  <a href="#ac2feffb9e070862cc0524fa178b67e02"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#a3ac823c6791d5fb25996149dc236cef2">addFluenceData</a> (istream &amp;data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add fluence data from the stream <em>data</em> to the current state.  <a href="#a3ac823c6791d5fb25996149dc236cef2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#a84ba42972d8332d86a04e65e7b73c8c6">resetFluenceCounter</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the data related to the sampling of positions and directions to a state with zero sampled particles.  <a href="#a84ba42972d8332d86a04e65e7b73c8c6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#adb12d459777f5580e15410ba5027f9fd">setFluenceState</a> (istream &amp;data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the data related to the sampling of positions and directions to a state contained in the stream <em>data</em>.  <a href="#adb12d459777f5580e15410ba5027f9fd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#a796561f0e95149153475c79bca882e6a">setState</a> (istream &amp;data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the source state according to the data in the stream <em>data</em>.  <a href="#a796561f0e95149153475c79bca882e6a"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#ad536b380350a5bef268abea47e0e9186">setLatch</a> (int &amp;latch)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1fa7d4b4114238f4d2d152125f0ca47c"></a><!-- doxytag: member="EGS_BaseSimpleSource::q" ref="a1fa7d4b4114238f4d2d152125f0ca47c" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#a1fa7d4b4114238f4d2d152125f0ca47c">q</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The charge of this simple source. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4d725d182dc703dc2014dd630552374b"></a><!-- doxytag: member="EGS_BaseSimpleSource::s" ref="a4d725d182dc703dc2014dd630552374b" args="" -->
<a class="el" href="classEGS__BaseSpectrum.html">EGS_BaseSpectrum</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#a4d725d182dc703dc2014dd630552374b">s</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The energy spectrum of this source. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a03f977aa887c26ba0e24714bd7a7f86d"></a><!-- doxytag: member="EGS_BaseSimpleSource::type" ref="a03f977aa887c26ba0e24714bd7a7f86d" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#a03f977aa887c26ba0e24714bd7a7f86d">type</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A short description of the source type. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb6f47fe1590b54f1be46b081767ee59"></a><!-- doxytag: member="EGS_BaseSimpleSource::count" ref="aeb6f47fe1590b54f1be46b081767ee59" args="" -->
EGS_I64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__BaseSimpleSource.html#aeb6f47fe1590b54f1be46b081767ee59">count</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of statistically independent particles delivered so far. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Base class for 'simple' particle sources. </p>
<p>A 'simple' particle source source is a source with a fixed particle charge for which the energy distribution (the spectrum) is decoupled from the probability distribution for direction and position. Hence, to sample a particle, this type of source samples the energy from a <a class="el" href="classEGS__BaseSpectrum.html">spectrum object </a> and the position and direction from another, energy independent distribution using <a class="el" href="classEGS__BaseSimpleSource.html#a4c4ce264223cf78497937fe6f3124f9b" title="Sample a particle position and direction.">getPositionDirection()</a>. Except for phase space file and BEAM simulation sources, all other sources ever implemented and used in NRC mortran user codes are of this type. The <a class="el" href="classEGS__BaseSimpleSource.html" title="Base class for &#39;simple&#39; particle sources.">EGS_BaseSimpleSource</a> class is the base class for such sources and implements various algorithms that are common to all 'simple' sources. </p>
<dl><dt><b>Examples: </b></dt><dd>
<p><a class="el" href="sources_2egs_point_source_2egs_point_source_8cpp-example.html#_a1">sources/egs_point_source/egs_point_source.cpp</a>.</p>
</dd>
</dl>
<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00506">506</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0bba051b0ee4d8a5a4e9f08ee1db196a"></a><!-- doxytag: member="EGS_BaseSimpleSource::EGS_BaseSimpleSource" ref="a0bba051b0ee4d8a5a4e9f08ee1db196a" args="(int Q, EGS_BaseSpectrum *Spec, const string &amp;Name=&quot;&quot;, EGS_ObjectFactory *f=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EGS_BaseSimpleSource::EGS_BaseSimpleSource </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEGS__BaseSpectrum.html">EGS_BaseSpectrum</a> *&#160;</td>
          <td class="paramname"><em>Spec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>Name</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEGS__ObjectFactory.html">EGS_ObjectFactory</a> *&#160;</td>
          <td class="paramname"><em>f</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<p>Construct a 'simple' particle source with charge <em>Q</em>, spectrum <em>Spec</em> and name <em>Name</em>. The spectrum <em>must</em> not be <code>null</code>. The newly created source takes ownership of the spectrum object and will delete it in the destructor. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sources_2egs_point_source_2egs_point_source_8cpp-example.html#a19">sources/egs_point_source/egs_point_source.cpp</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00517">517</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa3cdfd40f1596eb0a6369159868ef670"></a><!-- doxytag: member="EGS_BaseSimpleSource::EGS_BaseSimpleSource" ref="aa3cdfd40f1596eb0a6369159868ef670" args="(EGS_Input *input, EGS_ObjectFactory *f=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EGS_BaseSimpleSource::EGS_BaseSimpleSource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEGS__Input.html">EGS_Input</a> *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEGS__ObjectFactory.html">EGS_ObjectFactory</a> *&#160;</td>
          <td class="paramname"><em>f</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Construct a 'simple' particle source from the information pointed to by <em>input</em>. </p>
<p>In addition to the information needed by the <a class="el" href="classEGS__BaseSource.html#a1b694b64b58503f23369843b1c7f8959">base source class constructor </a>, <em>input</em> must contain the information required to create a spectrum, a particle charge key-value pair and whatever else information the derived source class needs. </p>

<p>Definition at line <a class="el" href="egs__base__source_8cpp_source.html#l00043">43</a> of file <a class="el" href="egs__base__source_8cpp_source.html">egs_base_source.cpp</a>.</p>

<p>References <a class="el" href="egs__spectra_8cpp_source.html#l00394">EGS_BaseSpectrum::createSpectrum()</a>, <a class="el" href="egs__functions_8cpp_source.html#l00116">egsWarning</a>, <a class="el" href="egs__input_8cpp_source.html#l00261">EGS_Input::getInput()</a>, <a class="el" href="egs__base__source_8h_source.html#l00692">q</a>, and <a class="el" href="egs__base__source_8h_source.html#l00698">s</a>.</p>

</div>
</div>
<a class="anchor" id="a17c97f07a995ac223b4f997e4b764f46"></a><!-- doxytag: member="EGS_BaseSimpleSource::~EGS_BaseSimpleSource" ref="a17c97f07a995ac223b4f997e4b764f46" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EGS_BaseSimpleSource::~EGS_BaseSimpleSource </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructor. </p>
<p>Deletes the spectrum object of the 'simple' source. </p>

<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00537">537</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ad99228597d9e9f4de5ce1251ad69f2d5"></a><!-- doxytag: member="EGS_BaseSimpleSource::isValid" ref="ad99228597d9e9f4de5ce1251ad69f2d5" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool EGS_BaseSimpleSource::isValid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Is this a valid source? </p>
<p>The default implementation of this function returns <code>true</code>, if the spectrum object of the source is not <code>null</code> and <code>false</code> otherwise. Should be re-implemented in derived classes to check that the additional prerequisites such sources need are fullfilled. This is used in the template source creation function <a class="el" href="egs__base__source_8h.html#ac60316ef36367997327c93d962a0a72b" title="A template source creation function.">createSourceTemplate()</a> to check if the input was sufficient to construct the desired source. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sources_2egs_point_source_2egs_point_source_8cpp-example.html#a28">sources/egs_point_source/egs_point_source.cpp</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00549">549</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="aff8f779daa8394fe1692890bfb8650b9"></a><!-- doxytag: member="EGS_BaseSimpleSource::getNextParticle" ref="aff8f779daa8394fe1692890bfb8650b9" args="(EGS_RandomGenerator *rndm, int &amp;Q, int &amp;latch, EGS_Float &amp;E, EGS_Float &amp;wt, EGS_Vector &amp;x, EGS_Vector &amp;u)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual EGS_I64 EGS_BaseSimpleSource::getNextParticle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEGS__RandomGenerator.html">EGS_RandomGenerator</a> *&#160;</td>
          <td class="paramname"><em>rndm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>Q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>latch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EGS_Float &amp;&#160;</td>
          <td class="paramname"><em>E</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EGS_Float &amp;&#160;</td>
          <td class="paramname"><em>wt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sample the next source particle from the source probability distribution. </p>
<p>Uses the <a class="el" href="classEGS__BaseSpectrum.html#a030e7236a817ac01fbb616f001f65894">sampleEnergy() </a> function of the spectrum object to obtain the particle energy, the pure virtual function <a class="el" href="classEGS__BaseSimpleSource.html#a4c4ce264223cf78497937fe6f3124f9b" title="Sample a particle position and direction.">getPositionDirection()</a> to obtain the position and direction, and the virtual <a class="el" href="classEGS__BaseSimpleSource.html#ad536b380350a5bef268abea47e0e9186">setLatch()</a> function to obtain a particle latch. Hence, particle source derived from <a class="el" href="classEGS__BaseSimpleSource.html" title="Base class for &#39;simple&#39; particle sources.">EGS_BaseSimpleSource</a> only need to implement these two functions. Increments <a class="el" href="classEGS__BaseSimpleSource.html#aeb6f47fe1590b54f1be46b081767ee59" title="Number of statistically independent particles delivered so far.">count</a> by one. </p>

<p>Implements <a class="el" href="classEGS__BaseSource.html#aac271bf033f41e63d83683f8faba9f01">EGS_BaseSource</a>.</p>

<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00562">562</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4c4ce264223cf78497937fe6f3124f9b"></a><!-- doxytag: member="EGS_BaseSimpleSource::getPositionDirection" ref="a4c4ce264223cf78497937fe6f3124f9b" args="(EGS_RandomGenerator *rndm, EGS_Vector &amp;x, EGS_Vector &amp;u, EGS_Float &amp;wt)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void EGS_BaseSimpleSource::getPositionDirection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEGS__RandomGenerator.html">EGS_RandomGenerator</a> *&#160;</td>
          <td class="paramname"><em>rndm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EGS_Float &amp;&#160;</td>
          <td class="paramname"><em>wt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sample a particle position and direction. </p>
<p>This pure virtual function must be implemented in classes deriving from <a class="el" href="classEGS__BaseSimpleSource.html" title="Base class for &#39;simple&#39; particle sources.">EGS_BaseSimpleSource</a> to sample a particle position and direction using the random number generator <em>rndm</em> and to set <em>x</em> to the position, <em>u</em> to the direction and <em>wt</em> to the statistical weight of the particle. This function is needed by <a class="el" href="classEGS__BaseSimpleSource.html#aff8f779daa8394fe1692890bfb8650b9" title="Sample the next source particle from the source probability distribution.">getNextParticle()</a>. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sources_2egs_point_source_2egs_point_source_8cpp-example.html#a20">sources/egs_point_source/egs_point_source.cpp</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a337db7f94a201ba52af63b1d8a8db03f"></a><!-- doxytag: member="EGS_BaseSimpleSource::getEmax" ref="a337db7f94a201ba52af63b1d8a8db03f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual EGS_Float EGS_BaseSimpleSource::getEmax </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the maximum energy of the source. </p>
<p>Simply uses the <a class="el" href="classEGS__BaseSpectrum.html#a52439ede222ec9f45e1e46a423cdfa69">maxEnergy() </a> method of the spectrum object. </p>

<p>Implements <a class="el" href="classEGS__BaseSource.html#a75a510c07ac91a4866c77f649ef90bfe">EGS_BaseSource</a>.</p>

<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00586">586</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="a40470def37451ee0d0f91d1c99f4a7af"></a><!-- doxytag: member="EGS_BaseSimpleSource::storeFluenceState" ref="a40470def37451ee0d0f91d1c99f4a7af" args="(ostream &amp;data_out) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool EGS_BaseSimpleSource::storeFluenceState </td>
          <td>(</td>
          <td class="paramtype">ostream &amp;&#160;</td>
          <td class="paramname"><em>data_out</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store the fluence state of this source to the data stream <em>data_out</em>. </p>
<p>Must be implemented in derived classes to store the data needed to set the state of this source object to its current state. This is needed in restarted calculations.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classEGS__BaseSource.html#a4c464951dd4a93ed1155dc8e9bbbba2c" title="Store the source state into the stream data_out.">EGS_BaseSource::storeState()</a>, <a class="el" href="classEGS__BaseSource.html#ad2ff6a20ae831eef48b8efb8b9bd202d" title="Set the source state based on data from the stream data_in.">EGS_BaseSource::setState()</a>, <a class="el" href="classEGS__BaseSource.html#a152a7d50ae853fd0fd18c8895e5c516f" title="Add data from the stream data_in to the source state.">EGS_BaseSource::addState()</a> and <a class="el" href="classEGS__BaseSource.html#a82dc0b0f2f506ff9d15a6b3d4c3127b3" title="Reset the source state.">EGS_BaseSource::resetCounter()</a>. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sources_2egs_point_source_2egs_point_source_8cpp-example.html#a26">sources/egs_point_source/egs_point_source.cpp</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00598">598</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="a117b4a656f140be67a2cbe5b20098892"></a><!-- doxytag: member="EGS_BaseSimpleSource::storeState" ref="a117b4a656f140be67a2cbe5b20098892" args="(ostream &amp;data_out) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool EGS_BaseSimpleSource::storeState </td>
          <td>(</td>
          <td class="paramtype">ostream &amp;&#160;</td>
          <td class="paramname"><em>data_out</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store the source state to the data stream <em>data_out</em>. </p>
<p>Uses the <a class="el" href="classEGS__BaseSpectrum.html#ac1a918baa21eb142a58e224ac8bb910f">storeState() </a> of the spectrum object and the <a class="el" href="classEGS__BaseSimpleSource.html#a40470def37451ee0d0f91d1c99f4a7af" title="Store the fluence state of this source to the data stream data_out.">storeFluenceState()</a> virtual function. </p>

<p>Reimplemented from <a class="el" href="classEGS__BaseSource.html#a4c464951dd4a93ed1155dc8e9bbbba2c">EGS_BaseSource</a>.</p>

<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00605">605</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

<p>References <a class="el" href="egs__functions_8cpp_source.html#l00057">egsStoreI64()</a>.</p>

</div>
</div>
<a class="anchor" id="aa8a74bf9ecec032018d3d761f69f58ab"></a><!-- doxytag: member="EGS_BaseSimpleSource::addState" ref="aa8a74bf9ecec032018d3d761f69f58ab" args="(istream &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool EGS_BaseSimpleSource::addState </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add the source state from the stream <em>data</em> to the current state. </p>
<p>Uses the <a class="el" href="classEGS__BaseSpectrum.html#a53d688661574c5083e6f7043976c31c4">addState() </a> of the spectrum object and the <a class="el" href="classEGS__BaseSimpleSource.html#a3ac823c6791d5fb25996149dc236cef2" title="Add fluence data from the stream data to the current state.">addFluenceData()</a> virtual function. </p>

<p>Reimplemented from <a class="el" href="classEGS__BaseSource.html#a152a7d50ae853fd0fd18c8895e5c516f">EGS_BaseSource</a>.</p>

<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00618">618</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

<p>References <a class="el" href="egs__functions_8cpp_source.html#l00064">egsGetI64()</a>.</p>

</div>
</div>
<a class="anchor" id="ac2feffb9e070862cc0524fa178b67e02"></a><!-- doxytag: member="EGS_BaseSimpleSource::resetCounter" ref="ac2feffb9e070862cc0524fa178b67e02" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void EGS_BaseSimpleSource::resetCounter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset the source to a state with zero sampled particles. </p>
<p>Uses the <a class="el" href="classEGS__BaseSpectrum.html#afa2e1d5bc4397b87b0494e82add440eb">resetCounter() </a> function of the spectrum object and the virtual function <a class="el" href="classEGS__BaseSimpleSource.html#a84ba42972d8332d86a04e65e7b73c8c6" title="Reset the data related to the sampling of positions and directions to a state with zero sampled parti...">resetFluenceCounter()</a>. </p>

<p>Reimplemented from <a class="el" href="classEGS__BaseSource.html#a82dc0b0f2f506ff9d15a6b3d4c3127b3">EGS_BaseSource</a>.</p>

<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00632">632</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3ac823c6791d5fb25996149dc236cef2"></a><!-- doxytag: member="EGS_BaseSimpleSource::addFluenceData" ref="a3ac823c6791d5fb25996149dc236cef2" args="(istream &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool EGS_BaseSimpleSource::addFluenceData </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add fluence data from the stream <em>data</em> to the current state. </p>
<p>This virtual function should be re-implemented in derived classes if the <a class="el" href="classEGS__BaseSimpleSource.html#a40470def37451ee0d0f91d1c99f4a7af" title="Store the fluence state of this source to the data stream data_out.">storeFluenceState()</a> function was re-implemented to store additional data.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classEGS__BaseSimpleSource.html#a40470def37451ee0d0f91d1c99f4a7af" title="Store the fluence state of this source to the data stream data_out.">storeFluenceState()</a>, <a class="el" href="classEGS__BaseSimpleSource.html#adb12d459777f5580e15410ba5027f9fd" title="Set the data related to the sampling of positions and directions to a state contained in the stream d...">setFluenceState()</a>, <a class="el" href="classEGS__BaseSimpleSource.html#a84ba42972d8332d86a04e65e7b73c8c6" title="Reset the data related to the sampling of positions and directions to a state with zero sampled parti...">resetFluenceCounter()</a>, <a class="el" href="classEGS__BaseSimpleSource.html#a796561f0e95149153475c79bca882e6a" title="Set the source state according to the data in the stream data.">setState()</a>, <a class="el" href="classEGS__BaseSimpleSource.html#a117b4a656f140be67a2cbe5b20098892" title="Store the source state to the data stream data_out.">storeState()</a>, <a class="el" href="classEGS__BaseSimpleSource.html#ac2feffb9e070862cc0524fa178b67e02" title="Reset the source to a state with zero sampled particles.">resetCounter()</a> and <a class="el" href="classEGS__BaseSimpleSource.html#aa8a74bf9ecec032018d3d761f69f58ab" title="Add the source state from the stream data to the current state.">addState()</a>. </dd></dl>

<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00645">645</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="a84ba42972d8332d86a04e65e7b73c8c6"></a><!-- doxytag: member="EGS_BaseSimpleSource::resetFluenceCounter" ref="a84ba42972d8332d86a04e65e7b73c8c6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void EGS_BaseSimpleSource::resetFluenceCounter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset the data related to the sampling of positions and directions to a state with zero sampled particles. </p>
<p>This virtual method should be re-implemented in derived classes to reset all data associated with the sampling of particle positions and directions (if there is such data).</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classEGS__BaseSimpleSource.html#a40470def37451ee0d0f91d1c99f4a7af" title="Store the fluence state of this source to the data stream data_out.">storeFluenceState()</a>, <a class="el" href="classEGS__BaseSimpleSource.html#adb12d459777f5580e15410ba5027f9fd" title="Set the data related to the sampling of positions and directions to a state contained in the stream d...">setFluenceState()</a>, <a class="el" href="classEGS__BaseSimpleSource.html#a3ac823c6791d5fb25996149dc236cef2" title="Add fluence data from the stream data to the current state.">addFluenceData()</a>, <a class="el" href="classEGS__BaseSimpleSource.html#a796561f0e95149153475c79bca882e6a" title="Set the source state according to the data in the stream data.">setState()</a>, <a class="el" href="classEGS__BaseSimpleSource.html#a117b4a656f140be67a2cbe5b20098892" title="Store the source state to the data stream data_out.">storeState()</a>, <a class="el" href="classEGS__BaseSimpleSource.html#ac2feffb9e070862cc0524fa178b67e02" title="Reset the source to a state with zero sampled particles.">resetCounter()</a> and <a class="el" href="classEGS__BaseSimpleSource.html#aa8a74bf9ecec032018d3d761f69f58ab" title="Add the source state from the stream data to the current state.">addState()</a>. </dd></dl>

<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00657">657</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="adb12d459777f5580e15410ba5027f9fd"></a><!-- doxytag: member="EGS_BaseSimpleSource::setFluenceState" ref="adb12d459777f5580e15410ba5027f9fd" args="(istream &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool EGS_BaseSimpleSource::setFluenceState </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the data related to the sampling of positions and directions to a state contained in the stream <em>data</em>. </p>
<p>This virtual method should be re-implemented in derived classes to set the data associated with the sampling of particle positions and directions to the state extracted from the data stream <em>data</em>.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classEGS__BaseSimpleSource.html#a40470def37451ee0d0f91d1c99f4a7af" title="Store the fluence state of this source to the data stream data_out.">storeFluenceState()</a>, addFluenceState(), <a class="el" href="classEGS__BaseSimpleSource.html#a3ac823c6791d5fb25996149dc236cef2" title="Add fluence data from the stream data to the current state.">addFluenceData()</a>, <a class="el" href="classEGS__BaseSimpleSource.html#a796561f0e95149153475c79bca882e6a" title="Set the source state according to the data in the stream data.">setState()</a>, <a class="el" href="classEGS__BaseSimpleSource.html#a117b4a656f140be67a2cbe5b20098892" title="Store the source state to the data stream data_out.">storeState()</a>, <a class="el" href="classEGS__BaseSimpleSource.html#ac2feffb9e070862cc0524fa178b67e02" title="Reset the source to a state with zero sampled particles.">resetCounter()</a> and <a class="el" href="classEGS__BaseSimpleSource.html#aa8a74bf9ecec032018d3d761f69f58ab" title="Add the source state from the stream data to the current state.">addState()</a>. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sources_2egs_point_source_2egs_point_source_8cpp-example.html#a27">sources/egs_point_source/egs_point_source.cpp</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00669">669</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="a796561f0e95149153475c79bca882e6a"></a><!-- doxytag: member="EGS_BaseSimpleSource::setState" ref="a796561f0e95149153475c79bca882e6a" args="(istream &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool EGS_BaseSimpleSource::setState </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the source state according to the data in the stream <em>data</em>. </p>
<p>Uses the <a class="el" href="classEGS__BaseSpectrum.html#a086757ca6b9de5d8ef1ef73da40d8db9">setState() </a> method of the spectrum object and the <a class="el" href="classEGS__BaseSimpleSource.html#adb12d459777f5580e15410ba5027f9fd" title="Set the data related to the sampling of positions and directions to a state contained in the stream d...">setFluenceState()</a> virtual function. </p>

<p>Reimplemented from <a class="el" href="classEGS__BaseSource.html#ad2ff6a20ae831eef48b8efb8b9bd202d">EGS_BaseSource</a>.</p>

<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00677">677</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

<p>References <a class="el" href="egs__functions_8cpp_source.html#l00064">egsGetI64()</a>.</p>

</div>
</div>
<a class="anchor" id="ad536b380350a5bef268abea47e0e9186"></a><!-- doxytag: member="EGS_BaseSimpleSource::setLatch" ref="ad536b380350a5bef268abea47e0e9186" args="(int &amp;latch)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void EGS_BaseSimpleSource::setLatch </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>latch</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the particle latch.</p>
<p>This virtual function can be re-implemented in derived classes to set the particle latch according to some condition. The default implementation sets the latch to zero. </p>

<p>Definition at line <a class="el" href="egs__base__source_8h_source.html#l00692">692</a> of file <a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/ftessier/EGSnrc/github/EGSnrc-doc/HEN_HOUSE/egs++/<a class="el" href="egs__base__source_8h_source.html">egs_base_source.h</a></li>
<li>/home/ftessier/EGSnrc/github/EGSnrc-doc/HEN_HOUSE/egs++/<a class="el" href="egs__base__source_8cpp_source.html">egs_base_source.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
