<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>EGSnrc C++ class library: EGS_Application Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">EGSnrc C++ class library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>EGS_Application Class Reference<div class="ingroups"><a class="el" href="group__egspp__main.html">Main library</a></div></h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="EGS_Application" -->
<p>Base class for advanced EGSnrc C++ applications.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="egs__application_8h_source.html">egs_application.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for EGS_Application:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classEGS__Application.png" usemap="#EGS_Application_map" alt=""/>
  <map id="EGS_Application_map" name="EGS_Application_map">
<area href="classEGS__AdvancedApplication.html" alt="EGS_AdvancedApplication" shape="rect" coords="0,56,165,80"/>
</map>
 </div></div>

<p><a href="classEGS__Application-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1a">AusgabCall</a> { <br/>
&#160;&#160;<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa3bb2ecd1825477a10640c63663e1923a">BeforeTransport</a> =  0, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa6e1e46d145038c808d74d33389f84731">EgsCut</a> =  1, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa445b43e4207a739fcead56f3e5a8d719">PegsCut</a> =  2, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa1e877c6dc25776bad22f02b33717004e">UserDiscard</a> =  3, 
<br/>
&#160;&#160;<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aad872ba7c24edf7f7a4a81ddaa9d02a34">ExtraEnergy</a> =  4, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aad6d2188aa2f719740424df36e27dd6e0">AfterTransport</a> =  5, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa10483da11669338ec6beb93443be5fba">BeforeBrems</a> =  6, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa487b4ae9c6cd95584a8ce27de41974b3">AfterBrems</a> =  7, 
<br/>
&#160;&#160;<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aaf389e46bebd3f4afc8e50ae8fe4744e4">BeforeMoller</a> =  8, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aae0918c762171145bf5823f3d9e9917c4">AfterMoller</a> =  9, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa415fd71789c13304148d4cc9ce2feff9">BeforeBhabha</a> =  10, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aaeb757789ace892cd9b446d5b31ef1b04">AfterBhabha</a> =  11, 
<br/>
&#160;&#160;<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aafc56cb3a15e43e1d25b7d9ba1d51a7cc">BeforeAnnihFlight</a> =  12, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa7c3177524066b849e632ffdaacc0c735">AfterAnnihFlight</a> =  13, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aaa5808ecf7ce686f5f9fb89e837073ff9">BeforeAnnihRest</a> =  28, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa6c885be903f540457cbfb4bc8c9ff871">AfterAnnihRest</a> =  14, 
<br/>
&#160;&#160;<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aabf9ed0719489931dfbc1351329705cc5">BeforePair</a> =  15, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa9912d8001eea4cb095005e16c88c658d">AfterPair</a> =  16, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa34bc692bee1c804c55e3aa4ce6248a0d">BeforeCompton</a> =  17, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa86c8d52ed4786e22c62b5e39a8bf1033">AfterCompton</a> =  18, 
<br/>
&#160;&#160;<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa25b59192c13846fb262b4dda1b23303c">BeforePhoto</a> =  19, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa94456fe61a84035bb0499cff443237be">AfterPhoto</a> =  20, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aac65d3c6904961fb315a0f4c6323573e1">EnteringUphi</a> =  21, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa68bb8a1b96b234255da9bae81d657bd8">LeavingUphi</a> =  22, 
<br/>
&#160;&#160;<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa727627b8b0a34af56e6ebd7139f77ead">BeforeRayleigh</a> =  23, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa3f970c7dcc789c3324050ddae7f81d38">AfterRayleigh</a> =  24, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa917bbab03a3394d495e45279b0e9c08b">FluorescentEvent</a> =  25, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa99341656e1f0ce9163caed104c36bf47">CosterKronigEvent</a> =  26, 
<br/>
&#160;&#160;<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa611f90b9fb3f8621b81a4dca3661be82">AugerEvent</a> =  27, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa855eaa885a0b4ca4fac66e9ed9f6d675">BeforePhotoNuc</a> =  29, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa88684a869784f2b8fb1f467b88c3fb08">AfterPhotoNuc</a> =  30, 
<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1aa7dff694ad2719daf85a4fc20ab5a39f4">UnknownCall</a> =  31
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><p>Possible calls to the user scoring function <a class="el" href="classEGS__Application.html#a61c480b0e0bdff165c752876b7cf57c0" title="User scoring function.">ausgab()</a>. </p>
 <a href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1a">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a2dcf3379c55f4b436ad19ae70b2c06f3">EGS_Application</a> (int argc, char **argv)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct an EGSnrc application.  <a href="#a2dcf3379c55f4b436ad19ae70b2c06f3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a6ea5d37d3c26910c318572ad855bf0e6">~EGS_Application</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destruct the EGSnrc application.  <a href="#a6ea5d37d3c26910c318572ad855bf0e6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a5892c4a70103f7ab5c26426c50c90d0c">initSimulation</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the EGSnrc application.  <a href="#a5892c4a70103f7ab5c26426c50c90d0c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#aafbcd594c98246218e6b6fdbd8ac86fa">setSimulationChunk</a> (EGS_I64 nstart, EGS_I64 nrun)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the simulation chunk.  <a href="#aafbcd594c98246218e6b6fdbd8ac86fa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#ae664d8b5da98fe52520463797555b18e">runSimulation</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs an EGSnrc simulation.  <a href="#ae664d8b5da98fe52520463797555b18e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a41ca73d210e9d3e5ff1d54ca70e6f81d">finishSimulation</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyze and output the results.  <a href="#a41ca73d210e9d3e5ff1d54ca70e6f81d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a3a31178eda680a07d0bca381d85b9452">describeSimulation</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Describe the simulation.  <a href="#a3a31178eda680a07d0bca381d85b9452"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#ab14a7252372ed6da1421f4778a3d0573">simulateSingleShower</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Simulates a single particle shower.  <a href="#ab14a7252372ed6da1421f4778a3d0573"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a7a761194d6a4fe8e0d373643f1825809">getCurrentResult</a> (double &amp;sum, double &amp;sum2, double &amp;norm, double &amp;count)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Report the current result.  <a href="#a7a761194d6a4fe8e0d373643f1825809"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a338234a10d12a0563a91c41f143e7a53">analyzeResults</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyze the simulation results.  <a href="#a338234a10d12a0563a91c41f143e7a53"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a6c5e36aaaf4dbfe46a9b0a240273c07a">outputResults</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Output the simulation results.  <a href="#a6c5e36aaaf4dbfe46a9b0a240273c07a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#ad79975ab3d843f8535d2a223992a43ab">combineResults</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Combine results from parallel runs.  <a href="#ad79975ab3d843f8535d2a223992a43ab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a5093794169ded8b633363e4efa45856b">outputData</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Output intermediate results.  <a href="#a5093794169ded8b633363e4efa45856b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#afee7822440bf2c01efaa2ee984d33f85">readData</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read intermediate results.  <a href="#afee7822440bf2c01efaa2ee984d33f85"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a60c32ebfd072fc846d44df201c4f8f41"></a><!-- doxytag: member="EGS_Application::getInput" ref="a60c32ebfd072fc846d44df201c4f8f41" args="()" -->
<a class="el" href="classEGS__Input.html">EGS_Input</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a60c32ebfd072fc846d44df201c4f8f41">getInput</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the <a class="el" href="classEGS__Input.html" title="A class for storing information in a tree-like structure of key-value pairs. This class is used throu...">EGS_Input</a> object containing the user input to the application found in the input file. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff674c2926c452f522a54f04cb015048"></a><!-- doxytag: member="EGS_Application::getAppName" ref="aff674c2926c452f522a54f04cb015048" args="() const " -->
const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#aff674c2926c452f522a54f04cb015048">getAppName</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the application name. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a68feaa663be78e0e58c2660f19ffa62c"></a><!-- doxytag: member="EGS_Application::getEgsHome" ref="a68feaa663be78e0e58c2660f19ffa62c" args="() const " -->
const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a68feaa663be78e0e58c2660f19ffa62c">getEgsHome</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <code>EGS_HOME</code> directory. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2cdaedca895295cc22e9e888dcf0712c"></a><!-- doxytag: member="EGS_Application::getHenHouse" ref="a2cdaedca895295cc22e9e888dcf0712c" args="() const " -->
const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a2cdaedca895295cc22e9e888dcf0712c">getHenHouse</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <code>HEN_HOUSE</code> directory. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aedda0338138a935f8d93d5364763d1f2"></a><!-- doxytag: member="EGS_Application::getOutputFile" ref="aedda0338138a935f8d93d5364763d1f2" args="() const " -->
const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#aedda0338138a935f8d93d5364763d1f2">getOutputFile</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the base name of the output file(s) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a22d51d2dd3b400a47a51a41a61f818e0">getFinalOutputFile</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the base name of the final output file(s)  <a href="#a22d51d2dd3b400a47a51a41a61f818e0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a952dba7b0e1f8418bcfd6bf45472be06">constructIOFileName</a> (const char *extension, bool with_run_dir) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs and returns the name of an input/output file.  <a href="#a952dba7b0e1f8418bcfd6bf45472be06"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a23bc9bd11eab9d272a24844db03618ae"></a><!-- doxytag: member="EGS_Application::getAppDir" ref="a23bc9bd11eab9d272a24844db03618ae" args="() const " -->
const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a23bc9bd11eab9d272a24844db03618ae">getAppDir</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the absolute path to the user code directory. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7bfd94da216c35da510bd39ef3fdaa70"></a><!-- doxytag: member="EGS_Application::getRunDir" ref="a7bfd94da216c35da510bd39ef3fdaa70" args="() const " -->
const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a7bfd94da216c35da510bd39ef3fdaa70">getRunDir</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the working directory. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3d78e715934f763bdd6214bdc78621f2"></a><!-- doxytag: member="EGS_Application::getWorkDir" ref="a3d78e715934f763bdd6214bdc78621f2" args="() const " -->
const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a3d78e715934f763bdd6214bdc78621f2">getWorkDir</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the working directory. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a38bd7b0a03e87c07c63b0713da56518a">setAusgabCall</a> (<a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1a">AusgabCall</a> call, bool on_or_off)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns on or off a call to the user scoring function ausgab.  <a href="#a38bd7b0a03e87c07c63b0713da56518a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a7c064f3b3e28a24706e3dca687eb3921">getNparallel</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of parallel jobs executing.  <a href="#a7c064f3b3e28a24706e3dca687eb3921"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a978f88293d28c1b715f4a3580e6c2b38">getIparallel</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the job number in a parallel run.  <a href="#a978f88293d28c1b715f4a3580e6c2b38"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a440920c49dc0fa80613d1c6ddda75060">howfar</a> (int ireg, const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;x, const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;u, EGS_Float &amp;t, int *newmed)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates distance to a boundary along the current direction.  <a href="#a440920c49dc0fa80613d1c6ddda75060"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#ab65ad5f735367024a572f66750bdf4b1">hownear</a> (int ireg, const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;x)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates nearest distance to a boundary in any direction.  <a href="#ab65ad5f735367024a572f66750bdf4b1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2f515341382af44cafb4643432774def"></a><!-- doxytag: member="EGS_Application::getMedium" ref="a2f515341382af44cafb4643432774def" args="(int ireg)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a2f515341382af44cafb4643432774def">getMedium</a> (int ireg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the medium index in region ireg using C-style indexing. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a788816794dfad8803a189849f68d25f1">isRealRegion</a> (int ireg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if <em>ireg</em> is a real region, false otherwise.  <a href="#a788816794dfad8803a189849f68d25f1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1aaeb919ca1cbcd09c7e5dbcb1900ff0"></a><!-- doxytag: member="EGS_Application::isWhere" ref="a1aaeb919ca1cbcd09c7e5dbcb1900ff0" args="(EGS_Vector &amp;r)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>isWhere</b> (<a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#aec46db22a45ddf193fc102ea008d64d6">userScoring</a> (int iarg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">User scoring function for accumulation of results and VRT implementation.  <a href="#aec46db22a45ddf193fc102ea008d64d6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a61c480b0e0bdff165c752876b7cf57c0">ausgab</a> (int)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">User scoring function.  <a href="#a61c480b0e0bdff165c752876b7cf57c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a46c7f5de7c682b2821e94195f9c9cfc0">startNewParticle</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the transport of a new particle.  <a href="#a46c7f5de7c682b2821e94195f9c9cfc0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#aaef1f98f22e806a5245c4ec3094887e7">enterNewRegion</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Particle enters new region.  <a href="#aaef1f98f22e806a5245c4ec3094887e7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#ae17a2f30e8f09cfcb236e710d31df92e">fillRandomArray</a> (int n, EGS_Float *rns)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill an array with random numbers using the application's RNG.  <a href="#ae17a2f30e8f09cfcb236e710d31df92e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual EGS_I64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a72f3f5e71d275799fc0c9bc2cb740b27">randomNumbersUsed</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of random numbers used.  <a href="#a72f3f5e71d275799fc0c9bc2cb740b27"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a7d1da15f46db2324773a2e65d02ef095">getElectronSteps</a> (double &amp;ch_steps, double &amp;all_steps) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of electron steps taken.  <a href="#a7d1da15f46db2324773a2e65d02ef095"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a3cf7f89d4e647ed33e1d9efc27ea65da">addState</a> (istream &amp;data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add data from a parallel job.  <a href="#a3cf7f89d4e647ed33e1d9efc27ea65da"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a2079fb68cea3fc40c5bc49ef93684c1a">resetCounter</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the application to a 'pristine' state.  <a href="#a2079fb68cea3fc40c5bc49ef93684c1a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#ac6e9efe53e0f3868fd947e6da448a035">describeUserCode</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Describe the user code.  <a href="#ac6e9efe53e0f3868fd947e6da448a035"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa7212ca64f07f679cc6e8345d95132c8"></a><!-- doxytag: member="EGS_Application::appInformation" ref="aa7212ca64f07f679cc6e8345d95132c8" args="(const char *)" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#aa7212ca64f07f679cc6e8345d95132c8">appInformation</a> (const char *)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write an information message. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab5b299d7edb8aa5f368dccef4e51f03e"></a><!-- doxytag: member="EGS_Application::appWarning" ref="ab5b299d7edb8aa5f368dccef4e51f03e" args="(const char *)" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#ab5b299d7edb8aa5f368dccef4e51f03e">appWarning</a> (const char *)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a warning message. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4e6bdc981453861541b4c757f53d8c23"></a><!-- doxytag: member="EGS_Application::appFatal" ref="a4e6bdc981453861541b4c757f53d8c23" args="(const char *)" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a4e6bdc981453861541b4c757f53d8c23">appFatal</a> (const char *)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a warning message and exit. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae92ccfee331df800e980266bd71cf91b"></a><!-- doxytag: member="EGS_Application::checkDeviceFull" ref="ae92ccfee331df800e980266bd71cf91b" args="(FILE *)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#ae92ccfee331df800e980266bd71cf91b">checkDeviceFull</a> (FILE *)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a device holding a given stream is full. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8e2b409f1aa41777cdb47e4da8168e51"></a><!-- doxytag: member="EGS_Application::getFluence" ref="a8e2b409f1aa41777cdb47e4da8168e51" args="()" -->
EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><b>getFluence</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5e51c2849e215c5d8ce24b1459604229"></a><!-- doxytag: member="EGS_Application::getnRegions" ref="a5e51c2849e215c5d8ce24b1459604229" args="()" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>getnRegions</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a042565d43a2cd943f396432a9e3b4886"></a><!-- doxytag: member="EGS_Application::getnMedia" ref="a042565d43a2cd943f396432a9e3b4886" args="()" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>getnMedia</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a73f41a99e1eced6c15a7683c09f9d151"></a><!-- doxytag: member="EGS_Application::getMediumName" ref="a73f41a99e1eced6c15a7683c09f9d151" args="(int ind)" -->
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>getMediumName</b> (int ind)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab7359d05db39931c2565e2d0d8b89521"></a><!-- doxytag: member="EGS_Application::getMediumRho" ref="ab7359d05db39931c2565e2d0d8b89521" args="(int ind)" -->
virtual EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><b>getMediumRho</b> (int ind)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab67125d5cdaf33bd4a6d8fdda2bf05d0"></a><!-- doxytag: member="EGS_Application::getEdep" ref="ab67125d5cdaf33bd4a6d8fdda2bf05d0" args="()" -->
virtual EGS_Float&#160;</td><td class="memItemRight" valign="bottom"><b>getEdep</b> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classEGS__Application.html">EGS_Application</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a0bacaf36aa14a5851c5dd6f8efd679ee">activeApplication</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the active application.  <a href="#a0bacaf36aa14a5851c5dd6f8efd679ee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a44b849306c441b4a68b09315f585fcc7">setActiveApplication</a> (<a class="el" href="classEGS__Application.html">EGS_Application</a> *)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the active <a class="el" href="classEGS__Application.html" title="Base class for advanced EGSnrc C++ applications.">EGS_Application</a> class.  <a href="#a44b849306c441b4a68b09315f585fcc7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a0155cb8c8b2b630d82654faf4b50214b">getArgument</a> (int &amp;argc, char **argv, const char *name1, const char *name2, string &amp;arg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds a command line argument.  <a href="#a0155cb8c8b2b630d82654faf4b50214b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#ae090e0ea8481bcb77a9092fb8adb9d62">checkEnvironmentVar</a> (int &amp;argc, char **argv, const char *env, const char *n1, const char *n2, string &amp;var)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds a command line argument.  <a href="#ae090e0ea8481bcb77a9092fb8adb9d62"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af2f91891197b271a899af6e4c0df6e85"></a><!-- doxytag: member="EGS_Application::top_p" ref="af2f91891197b271a899af6e4c0df6e85" args="" -->
<a class="el" href="structEGS__Particle.html">EGS_Particle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#af2f91891197b271a899af6e4c0df6e85">top_p</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The top particle on the stack (i.e., the particle being transported) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0f8d14109fa5805672b0200a1a088db7"></a><!-- doxytag: member="EGS_Application::Np" ref="a0f8d14109fa5805672b0200a1a088db7" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a0f8d14109fa5805672b0200a1a088db7">Np</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The index of the top particle on the stack. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a8e5b3e38cea9d77464cc1398401e4895">initGeometry</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the simulation geometry.  <a href="#a8e5b3e38cea9d77464cc1398401e4895"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#ac33a7611de1313de0b9b295ddff89938">initSource</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the particle source.  <a href="#ac33a7611de1313de0b9b295ddff89938"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a9c02051c5c1a05281a70e4ed72126547">initCrossSections</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the EGSnrc cross sections and cross section/transport options.  <a href="#a9c02051c5c1a05281a70e4ed72126547"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a56fd2259ae9ea5cc0a5f1ddaa5f8adc7">initScoring</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the scoring of quantities of interest.  <a href="#a56fd2259ae9ea5cc0a5f1ddaa5f8adc7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a47d256a337ed07fde2f68fb1808f90d7">initRunControl</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct the run control object.  <a href="#a47d256a337ed07fde2f68fb1808f90d7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a93ed62952e5e9d1de7e919dc21362ecb">initRNG</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the random number generator.  <a href="#a93ed62952e5e9d1de7e919dc21362ecb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#ae850d69402abb050cf27c510ab8df91b">initEGSnrcBackEnd</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the EGSnrc backend.  <a href="#ae850d69402abb050cf27c510ab8df91b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a72f6639371f2e63711c048901bb84cfe">initAusgabObjects</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize ausgab objects.  <a href="#a72f6639371f2e63711c048901bb84cfe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a806210d4c0c8d4d8962e15517ddc64dd"></a><!-- doxytag: member="EGS_Application::addAusgabObject" ref="a806210d4c0c8d4d8962e15517ddc64dd" args="(EGS_AusgabObject *o)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a806210d4c0c8d4d8962e15517ddc64dd">addAusgabObject</a> (<a class="el" href="classEGS__AusgabObject.html">EGS_AusgabObject</a> *o)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an ausgab object to the list of ausgab objects. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a2a3aa6b3640802f7cd72b6679f589380">startNewShower</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Called just before the <a class="el" href="classEGS__Application.html#afbf53d298189867b6750c00bc8e528ba" title="Simulate a single shower.">shower()</a> function.  <a href="#a2a3aa6b3640802f7cd72b6679f589380"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#aaf8421f19360d5a67f1025e6dbf0ce73">finishShower</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Called just after the <a class="el" href="classEGS__Application.html#afbf53d298189867b6750c00bc8e528ba" title="Simulate a single shower.">shower()</a> function.  <a href="#aaf8421f19360d5a67f1025e6dbf0ce73"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#afbf53d298189867b6750c00bc8e528ba">shower</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Simulate a single shower.  <a href="#afbf53d298189867b6750c00bc8e528ba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a17ca3f4b2aa8e4265efddde50aab6686"></a><!-- doxytag: member="EGS_Application::finishRun" ref="a17ca3f4b2aa8e4265efddde50aab6686" args="()" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>finishRun</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9654d3bc7d892c3fd99189a8e4a12ef3"></a><!-- doxytag: member="EGS_Application::storeGeometryStep" ref="a9654d3bc7d892c3fd99189a8e4a12ef3" args="(int ireg, int inew, const EGS_Vector &amp;x, const EGS_Vector &amp;u, EGS_Float twant, EGS_Float t)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>storeGeometryStep</b> (int ireg, int inew, const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;x, const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;u, EGS_Float twant, EGS_Float t)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a03d58eb6f2b30efb4496ca8ad647b557"></a><!-- doxytag: member="EGS_Application::reportGeometryError" ref="a03d58eb6f2b30efb4496ca8ad647b557" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>reportGeometryError</b> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6067426a81c58bb73ba412244c5fae39"></a><!-- doxytag: member="EGS_Application::input" ref="a6067426a81c58bb73ba412244c5fae39" args="" -->
<a class="el" href="classEGS__Input.html">EGS_Input</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a6067426a81c58bb73ba412244c5fae39">input</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">the input to this simulation. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8233242b9b4f891ab2b1765c80ec00eb"></a><!-- doxytag: member="EGS_Application::geometry" ref="a8233242b9b4f891ab2b1765c80ec00eb" args="" -->
<a class="el" href="classEGS__BaseGeometry.html">EGS_BaseGeometry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a8233242b9b4f891ab2b1765c80ec00eb">geometry</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">the geometry of this simulation <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aec260ca21996faa51db5da8d15d01559"></a><!-- doxytag: member="EGS_Application::source" ref="aec260ca21996faa51db5da8d15d01559" args="" -->
<a class="el" href="classEGS__BaseSource.html">EGS_BaseSource</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#aec260ca21996faa51db5da8d15d01559">source</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">the particle source <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ae856ff8e9615b6f353f4d501d1d5b7"></a><!-- doxytag: member="EGS_Application::rndm" ref="a1ae856ff8e9615b6f353f4d501d1d5b7" args="" -->
<a class="el" href="classEGS__RandomGenerator.html">EGS_RandomGenerator</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a1ae856ff8e9615b6f353f4d501d1d5b7">rndm</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">the random number generator <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac5109765b1ca4ced5c8766d51258bbcd"></a><!-- doxytag: member="EGS_Application::run" ref="ac5109765b1ca4ced5c8766d51258bbcd" args="" -->
<a class="el" href="classEGS__RunControl.html">EGS_RunControl</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#ac5109765b1ca4ced5c8766d51258bbcd">run</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">the run control object. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a83651f569c2201a9aea8f3b6992604c7"></a><!-- doxytag: member="EGS_Application::ausgab_flag" ref="a83651f569c2201a9aea8f3b6992604c7" args="[UnknownCall]" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a83651f569c2201a9aea8f3b6992604c7">ausgab_flag</a> [UnknownCall]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">on/off flags for ausgab calls <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6770bcae39d6f93a483fa578a4c5e7f5"></a><!-- doxytag: member="EGS_Application::app_name" ref="a6770bcae39d6f93a483fa578a4c5e7f5" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a6770bcae39d6f93a483fa578a4c5e7f5">app_name</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The application name. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a97f544c23787336a4951f222d6a8b44a"></a><!-- doxytag: member="EGS_Application::egs_home" ref="a97f544c23787336a4951f222d6a8b44a" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a97f544c23787336a4951f222d6a8b44a">egs_home</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The EGS_HOME directory. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae45de53845932a5777852a0439009e9a"></a><!-- doxytag: member="EGS_Application::hen_house" ref="ae45de53845932a5777852a0439009e9a" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#ae45de53845932a5777852a0439009e9a">hen_house</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The HEN_HOUSE directory. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a05d314a8780a33d2a7ae9850093b1f4f"></a><!-- doxytag: member="EGS_Application::app_dir" ref="a05d314a8780a33d2a7ae9850093b1f4f" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a05d314a8780a33d2a7ae9850093b1f4f">app_dir</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The user code directory. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0e04bffe223121c31cc1ab7e4029bf87"></a><!-- doxytag: member="EGS_Application::run_dir" ref="a0e04bffe223121c31cc1ab7e4029bf87" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a0e04bffe223121c31cc1ab7e4029bf87">run_dir</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The working directory during the run. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae44bcaec60871b8112a92adee796cf41"></a><!-- doxytag: member="EGS_Application::egs_config" ref="ae44bcaec60871b8112a92adee796cf41" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#ae44bcaec60871b8112a92adee796cf41">egs_config</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The EGSnrc config. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32a2c7417b32dd5dc1128f1596738943"></a><!-- doxytag: member="EGS_Application::input_file" ref="a32a2c7417b32dd5dc1128f1596738943" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a32a2c7417b32dd5dc1128f1596738943">input_file</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The input file name. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32f097ac9dd4e520b289b681c732f131"></a><!-- doxytag: member="EGS_Application::output_file" ref="a32f097ac9dd4e520b289b681c732f131" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a32f097ac9dd4e520b289b681c732f131">output_file</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The output file name (no extension) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7d130fd20136a021a19dee1ca9c15848"></a><!-- doxytag: member="EGS_Application::final_output_file" ref="a7d130fd20136a021a19dee1ca9c15848" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a7d130fd20136a021a19dee1ca9c15848">final_output_file</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The final output file name. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4eac11e2eb321977af826c186139d6d6"></a><!-- doxytag: member="EGS_Application::pegs_file" ref="a4eac11e2eb321977af826c186139d6d6" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a4eac11e2eb321977af826c186139d6d6">pegs_file</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The pegs file name. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaf0340ad3c5d7e91895a9ef6226d5e47"></a><!-- doxytag: member="EGS_Application::abs_pegs_file" ref="aaf0340ad3c5d7e91895a9ef6226d5e47" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#aaf0340ad3c5d7e91895a9ef6226d5e47">abs_pegs_file</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The pegs file name including absolute path. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e825d4ecff738d47fcfb7b24e2fd184"></a><!-- doxytag: member="EGS_Application::n_parallel" ref="a1e825d4ecff738d47fcfb7b24e2fd184" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a1e825d4ecff738d47fcfb7b24e2fd184">n_parallel</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of parallel jobs. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a962ba752d7e7adb25ea927285bec6a7b"></a><!-- doxytag: member="EGS_Application::i_parallel" ref="a962ba752d7e7adb25ea927285bec6a7b" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a962ba752d7e7adb25ea927285bec6a7b">i_parallel</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Job index in parallel runs. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9472a8c5a607dcaa864198a1b464859d"></a><!-- doxytag: member="EGS_Application::batch_run" ref="a9472a8c5a607dcaa864198a1b464859d" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a9472a8c5a607dcaa864198a1b464859d">batch_run</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Interactive or batch run. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1409d063336653fd086e3b587b4c9dae"></a><!-- doxytag: member="EGS_Application::simple_run" ref="a1409d063336653fd086e3b587b4c9dae" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a1409d063336653fd086e3b587b4c9dae">simple_run</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Use a simple run control even for parallel runs. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d0788de74c3864dbd8672362fe4bdf3"></a><!-- doxytag: member="EGS_Application::is_pegsless" ref="a1d0788de74c3864dbd8672362fe4bdf3" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a1d0788de74c3864dbd8672362fe4bdf3">is_pegsless</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">set to true if a pegsless run <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structEGS__Particle.html">EGS_Particle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a6fd58166cb82b03b7861e0a2352d7494">p</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8b9c94245bddeb84bbda1af8018d12f2"></a><!-- doxytag: member="EGS_Application::current_case" ref="a8b9c94245bddeb84bbda1af8018d12f2" args="" -->
EGS_I64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a8b9c94245bddeb84bbda1af8018d12f2">current_case</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The current case as returned from the source. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3b6078556ea6054228474eba59351cc5"></a><!-- doxytag: member="EGS_Application::last_case" ref="a3b6078556ea6054228474eba59351cc5" args="" -->
EGS_I64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a3b6078556ea6054228474eba59351cc5">last_case</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The last case simulated. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ostream *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#ab382f1b191803900a08a11decdd71714">data_out</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">data output stream  <a href="#ab382f1b191803900a08a11decdd71714"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">istream *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a978476a101fc626a2cfa8d2c18a244f9">data_in</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">data input stream  <a href="#a978476a101fc626a2cfa8d2c18a244f9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a9938e06c7b8f7ba3b2ff89c77db46a62">app_index</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">the index of this application.  <a href="#a9938e06c7b8f7ba3b2ff89c77db46a62"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2e7626554b1f41df3961cb1a5a81baed"></a><!-- doxytag: member="EGS_Application::a_objects_list" ref="a2e7626554b1f41df3961cb1a5a81baed" args="" -->
<a class="el" href="classEGS__SimpleContainer.html">EGS_SimpleContainer</a><br class="typebreak"/>
&lt; <a class="el" href="classEGS__AusgabObject.html">EGS_AusgabObject</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#a2e7626554b1f41df3961cb1a5a81baed">a_objects_list</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The ausgab objects. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac89e7d2c85460913f62fd7966500de28"></a><!-- doxytag: member="EGS_Application::a_objects" ref="ac89e7d2c85460913f62fd7966500de28" args="" -->
<a class="el" href="classEGS__SimpleContainer.html">EGS_SimpleContainer</a><br class="typebreak"/>
&lt; <a class="el" href="classEGS__AusgabObject.html">EGS_AusgabObject</a> * &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEGS__Application.html#ac89e7d2c85460913f62fd7966500de28">a_objects</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The ausgab objects for the various ausgab calls. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa34f0ed6650a10901ebe386a5b028737"></a><!-- doxytag: member="EGS_Application::ghistory" ref="aa34f0ed6650a10901ebe386a5b028737" args="" -->
<a class="el" href="classEGS__GeometryHistory.html">EGS_GeometryHistory</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>ghistory</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Base class for advanced EGSnrc C++ applications. </p>
<p>The recommended method for developing EGSnrc C++ applications is to derive an application class from one of the advanced application classes. At this point, the <a class="el" href="classEGS__AdvancedApplication.html" title="Base class for advanced EGSnrc applications based on the mortran EGSnrc back-end.">EGS_AdvancedApplication</a> class, which is based on the mortran version of EGSnrc, is the only class available. However, when EGSnrc is reimplemented in C++ there will be a corresponding EGS_AdvancedCppApplication class. The <a class="el" href="classEGS__Application.html" title="Base class for advanced EGSnrc C++ applications.">EGS_Application</a> class implements all functionality that is independent on the details of the physics functions implementation (mortran <em>vs</em> C++). The motivation behind this approach is that EGSnrc applications developed for the mortran back-end should work with as little change as possible with a future EGSnrc version written in C++.</p>
<p><a class="el" href="classEGS__Application.html" title="Base class for advanced EGSnrc C++ applications.">EGS_Application</a> and <a class="el" href="classEGS__AdvancedApplication.html" title="Base class for advanced EGSnrc applications based on the mortran EGSnrc back-end.">EGS_AdvancedApplication</a> implement a large portion of the work needed to develop an EGSnrc user code. Many of the functions implementing particular aspects of the initialization, the simulation loop, the storing of intermediate results, etc., are declared virtual to provide a high level of flexibility, but in general only very few of the virtual functions must be re-implemented in derived classes. The following is a brief recipe for developing an EGSnrc application derived from <a class="el" href="classEGS__AdvancedApplication.html" title="Base class for advanced EGSnrc applications based on the mortran EGSnrc back-end.">EGS_AdvancedApplication</a>. For the sake of a concrete example we will assume that the application calculates the dose distribution in all regions of the geometry specified in the input file and that the class derived from <a class="el" href="classEGS__AdvancedApplication.html" title="Base class for advanced EGSnrc applications based on the mortran EGSnrc back-end.">EGS_AdvancedApplication</a> implementing this functionality is called MyDoseApplication.</p>
<ul>
<li>Re-implement <a class="el" href="classEGS__Application.html#a56fd2259ae9ea5cc0a5f1ddaa5f8adc7" title="Initialize the scoring of quantities of interest.">initScoring()</a> to initialize the scoring of quantities of interest. In many cases the initialization will simply involve the construction of one or more <a class="el" href="classEGS__ScoringArray.html" title="A class for scoring an array of quantities (e.g. a dose distribution) in a Monte Carlo simulation...">EGS_ScoringArray</a> objects, which will be used to accumulate the quantites of interest at run time. It is of course possible to have more advanced initialization controlled via a section in the input file that can be obtained from the <a class="el" href="classEGS__Application.html#a6067426a81c58bb73ba412244c5fae39" title="the input to this simulation.">input</a> protected data member (see <em>e.g</em>. <code>cavity.cpp</code> for an example). For our example case of a sode scoring application the implementation could look like this <div class="fragment"><pre class="fragment">
    int MyDoseApplication::initScoring() {
        dose = new EGS_ScoringArray(geometry-&gt;regions());
        return 0;
    }
    </pre></div> Here, <code>dose</code> is a class member of type <code><a class="el" href="classEGS__ScoringArray.html" title="A class for scoring an array of quantities (e.g. a dose distribution) in a Monte Carlo simulation...">EGS_ScoringArray</a></code> *.</li>
<li>Re-implement the <a class="el" href="classEGS__Application.html#a2a3aa6b3640802f7cd72b6679f589380" title="Called just before the shower() function.">startNewShower()</a> function. In most cases the implementation will consist of calling the <a class="el" href="classEGS__ScoringArray.html#aa6a85d9841e604ada0023ceb9ff4f27e" title="Set the current statistically independent event to ncase.">EGS_ScoringArray::setHistory()</a> function of all scoring array objects used for accumulating results. This is necessary for the history-by-history statistical analysis. In our example the implementation should look like this <div class="fragment"><pre class="fragment">
    int MyDoseApplication::startNewShower() {
        if( current_case != last_case ) {
            dose-&gt;setHistory(current_case);
            last_case = current_case;
        }
        return 0;
    }
    </pre></div></li>
<li>Re-implement the <a class="el" href="classEGS__Application.html#a5093794169ded8b633363e4efa45856b" title="Output intermediate results.">outputData()</a> function to output the current simulation results to a data file. This is necessary for the ability to restart a simulation or to combine the results of a parallel run. In most cases the implementation will involve calling the <a class="el" href="classEGS__AdvancedApplication.html" title="Base class for advanced EGSnrc applications based on the mortran EGSnrc back-end.">EGS_AdvancedApplication</a> version first, so that data related to the state of the particle source, the random number generator, the EGSnrc back-end, etc., is stored, and than calling the storeState() function of the scoring objects. In our example case the implementation should look like this: <div class="fragment"><pre class="fragment">
    int MyDoseApplication::outputData() {
        int err = EGS_AdvancedApplication::outputData();
        if( err ) return err;
        if( !dose-&gt;storeState(*data_out) ) return 99;
        return 0;
    }
    </pre></div> <em>i.e</em>. if an error occurs while storing the base application data the function returns this error code. Otherwise it stores the dose data and returns a special error code if <a class="el" href="classEGS__ScoringArray.html#a8d43a77968ac9d80371902d97947d0ea" title="Stores the state of the scoring array object into the data stream data.">EGS_ScoringArray::storeState()</a> fails.</li>
<li>Re-implement the <a class="el" href="classEGS__Application.html#afee7822440bf2c01efaa2ee984d33f85" title="Read intermediate results.">readData()</a> function to read results from a data file. This is necessary for restarted calculations and is basically the same as <a class="el" href="classEGS__Application.html#a5093794169ded8b633363e4efa45856b" title="Output intermediate results.">outputData()</a> but now <a class="el" href="classEGS__Application.html#afee7822440bf2c01efaa2ee984d33f85" title="Read intermediate results.">readData()</a> and setState() are used instead of <a class="el" href="classEGS__Application.html#a5093794169ded8b633363e4efa45856b" title="Output intermediate results.">outputData()</a> and storeState(): <div class="fragment"><pre class="fragment">
    int MyDoseApplication::readData() {
        int err = EGS_AdvancedApplication::readData();
        if( err ) return err;
        if( !dose-&gt;setState(*data_in) ) return 99;
        return 0;
    }
    </pre></div></li>
<li>Re-implement the <a class="el" href="classEGS__Application.html#a2079fb68cea3fc40c5bc49ef93684c1a" title="Reset the application to a &#39;pristine&#39; state.">resetCounter()</a> function. This function is called before combining the results of a parallel run and should set all scoring objects to a 'pristine' state. In our example the implementation looks like this: <div class="fragment"><pre class="fragment">
    void MyDoseApplication::resetCounter() {
        EGS_AdvancedApplication::resetCounter();
        dose-&gt;reset();
    }
    </pre></div></li>
<li>Re-implement the <a class="el" href="classEGS__Application.html#a3cf7f89d4e647ed33e1d9efc27ea65da" title="Add data from a parallel job.">addState()</a> function. This function is called from within the loop over parallel job results and should add the data found in the data stream passed as argument to the current data. In our example the implementation is as follows <div class="fragment"><pre class="fragment">
    int MyDoseApplication::addState(istream &amp;data) {
        // **** add base data
        int err = EGS_AdvancedApplication::addState(data);
        if( err ) return err;
        // *** temporary scoring array
        EGS_ScoringArray tmp(geometry-&gt;regions());
        if( !tmp.setState(data) ) return 99; // error while reading data
        (*dose) += tmp;                      // add data
        return 0;
    }
    </pre></div></li>
<li>Implement the <a class="el" href="classEGS__Application.html#a61c480b0e0bdff165c752876b7cf57c0" title="User scoring function.">ausgab()</a> function to perform the actual scoring. Unfortunately, this is dependent upon the simulation back-end. For an application based on the mortran back-end, the relevant data is available from pointers to the Fortran common blocks with the general rule that the Fortran common block <code>XXX</code> is accessed via <code>the_xxx</code>, <em>e.g</em>. the particle stack is pointed to by <code>the_stack</code>, the <code>EPCONT</code> common that contains information about energy deposition, step-lengths, region indeces, etc., via <code>the_epcont</code>, etc. Information about the various EGSnrc common blocks is found in PIRS-701. The common blocks exported as C-style structures are defined in <code>$<a class="el" href="egs__interface2_8h.html" title="This file defines the C/C++ interface to the EGSnrc mortran back-end.">HEN_HOUSE/interface/egs_interface2.h</a></code>. Depending on the application, the <a class="el" href="classEGS__Application.html#a61c480b0e0bdff165c752876b7cf57c0" title="User scoring function.">ausgab()</a> function may be quite complex. In our example application it is very simple: <div class="fragment"><pre class="fragment">
    int MyDoseApplication::ausgab(int iarg) {
        if( the_epcont-&gt;edep &gt; 0 ) { // energy is being deposited
            int np = the_stack-&gt;np - 1; // top particle on the particle stack.
            int ir = the_stack-&gt;ir[np]-2; // region index
            if( ir &gt;= 0 ) dose-&gt;score(ir,the_epcont-&gt;edep*the_stack-&gt;wt[np]);
        }
        return 0;
    }
    </pre></div> In the above implementation no check is being made for the value of the <code>iarg</code> argument. This is because by default calls to <a class="el" href="classEGS__Application.html#a61c480b0e0bdff165c752876b7cf57c0" title="User scoring function.">ausgab()</a> are made only for energy deposition events. However, in more advanced applciations, one can set up calls to ausgab for a number of other events (see PIRS-701, <a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1a" title="Possible calls to the user scoring function ausgab().">EGS_Application::AusgabCall</a>, <a class="el" href="classEGS__Application.html#a38bd7b0a03e87c07c63b0713da56518a" title="Turns on or off a call to the user scoring function ausgab.">setAusgabCall()</a>) and should check the value of <code>iarg</code> to determine the type of event initiating the call to <a class="el" href="classEGS__Application.html#a61c480b0e0bdff165c752876b7cf57c0" title="User scoring function.">ausgab()</a>. Another thing to keep in mind is the fact that the Fortran-style indexing is used by the mortran back-end so that the top stack particle is <code> the_stack-&gt;np - 1</code> and not <code>the_stack-&gt;np</code>. Finally, the convention used in the geometry package is that the outside region has index -1 while inside regions have indeces from 0 to the number of regions - 1. This convention is translated to the outside region being region 1 in the mortran back-end and inside regions having indeces 2 to number of regions + 1 and makes the subtraction of 2 from the particle region index necessary.</li>
<li>Re-implement the <a class="el" href="classEGS__Application.html#a6c5e36aaaf4dbfe46a9b0a240273c07a" title="Output the simulation results.">outputResults()</a> function. The implementation should output the results of the simulation in a convenient form. Relatively short output could be put into the <code></code>.egslog file by using the <a class="el" href="group__egspp__main.html#ga38c38ac950788399c630481c2b3722f2" title="Always use this function for reporting the progress of a simulation and any other type of information...">egsInformation()</a> function for writing the data. Large amounts of data are better output into separate output files. To construct an output file name the application has access to the base output file name (without extension) via <a class="el" href="classEGS__Application.html#aedda0338138a935f8d93d5364763d1f2" title="Returns the base name of the output file(s)">getOutputFile()</a>, to the application directory via <a class="el" href="classEGS__Application.html#a23bc9bd11eab9d272a24844db03618ae" title="Returns the absolute path to the user code directory.">getAppDir()</a>, to the working directory via <a class="el" href="classEGS__Application.html#a3d78e715934f763bdd6214bdc78621f2" title="Returns the name of the working directory.">getWorkDir()</a>, etc.</li>
<li>Possibly re-implement the <a class="el" href="classEGS__Application.html#a7a761194d6a4fe8e0d373643f1825809" title="Report the current result.">getCurrentResult()</a> function to provide a single result and its uncertainty. This is not necessary for the proper operation of the application but is a nice feature. It is used to obtain a combined result for all parallel jobs during parallel processing execution, which is written to the job control file. In our example dose application one could for instance provide as the single result the dose in a single 'watch region': <div class="fragment"><pre class="fragment">
    void MyDoseApplication::getCurrentResult(double &amp;sum, double &amp;sum2,
                                double &amp;norm, double &amp;count) {
        // set number of statistically independent events
        count = current_case;
        // obtain the score in the watch region
        dose-&gt;currentScore(watch_region,sum,sum2);
        // set the normalization
        norm = 1.602e-10*count/source-&gt;getFluence()/watch_region_mass;
    }
    </pre></div> It is worth noting that in the process of combining the results of all parallel runs the run control object divides the result by the total number of statistically independent events. If we want the normalization to be in Gy/incident fluence we have to multiply back by count and then divide by the watch region mass, the particle fluence and multiply with 1.602e-10 to convert the energy deposited (counted in MeV) to J.</li>
<li>Possibly re-implement the <a class="el" href="classEGS__Application.html#ac6e9efe53e0f3868fd947e6da448a035" title="Describe the user code.">describeUserCode()</a> and <a class="el" href="classEGS__Application.html#a3a31178eda680a07d0bca381d85b9452" title="Describe the simulation.">describeSimulation()</a> functions to provide a description of your user code and a description of the simulation being performed with both outputs going to the log file.</li>
</ul>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Add time dependence</dd></dl>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00264">264</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1a"></a><!-- doxytag: member="EGS_Application::AusgabCall" ref="a824708ab25ce90310fdee8e8a7a4cd1a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1a">EGS_Application::AusgabCall</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Possible calls to the user scoring function <a class="el" href="classEGS__Application.html#a61c480b0e0bdff165c752876b7cf57c0" title="User scoring function.">ausgab()</a>. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa3bb2ecd1825477a10640c63663e1923a"></a><!-- doxytag: member="BeforeTransport" ref="a824708ab25ce90310fdee8e8a7a4cd1aa3bb2ecd1825477a10640c63663e1923a" args="" -->BeforeTransport</em>&nbsp;</td><td>
<p>before the step </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa6e1e46d145038c808d74d33389f84731"></a><!-- doxytag: member="EgsCut" ref="a824708ab25ce90310fdee8e8a7a4cd1aa6e1e46d145038c808d74d33389f84731" args="" -->EgsCut</em>&nbsp;</td><td>
<p>energy below Ecut or Pcut </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa445b43e4207a739fcead56f3e5a8d719"></a><!-- doxytag: member="PegsCut" ref="a824708ab25ce90310fdee8e8a7a4cd1aa445b43e4207a739fcead56f3e5a8d719" args="" -->PegsCut</em>&nbsp;</td><td>
<p>energy below AE or AP </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa1e877c6dc25776bad22f02b33717004e"></a><!-- doxytag: member="UserDiscard" ref="a824708ab25ce90310fdee8e8a7a4cd1aa1e877c6dc25776bad22f02b33717004e" args="" -->UserDiscard</em>&nbsp;</td><td>
<p>user requested discard </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aad872ba7c24edf7f7a4a81ddaa9d02a34"></a><!-- doxytag: member="ExtraEnergy" ref="a824708ab25ce90310fdee8e8a7a4cd1aad872ba7c24edf7f7a4a81ddaa9d02a34" args="" -->ExtraEnergy</em>&nbsp;</td><td>
<p>initiated when part of the energy is not transfered to particles (e.g. binding energy) </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aad6d2188aa2f719740424df36e27dd6e0"></a><!-- doxytag: member="AfterTransport" ref="a824708ab25ce90310fdee8e8a7a4cd1aad6d2188aa2f719740424df36e27dd6e0" args="" -->AfterTransport</em>&nbsp;</td><td>
<p>after the step </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa10483da11669338ec6beb93443be5fba"></a><!-- doxytag: member="BeforeBrems" ref="a824708ab25ce90310fdee8e8a7a4cd1aa10483da11669338ec6beb93443be5fba" args="" -->BeforeBrems</em>&nbsp;</td><td>
<p>before a bremsstrahlung interaction </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa487b4ae9c6cd95584a8ce27de41974b3"></a><!-- doxytag: member="AfterBrems" ref="a824708ab25ce90310fdee8e8a7a4cd1aa487b4ae9c6cd95584a8ce27de41974b3" args="" -->AfterBrems</em>&nbsp;</td><td>
<p>after a bremsstrahlung interaction </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aaf389e46bebd3f4afc8e50ae8fe4744e4"></a><!-- doxytag: member="BeforeMoller" ref="a824708ab25ce90310fdee8e8a7a4cd1aaf389e46bebd3f4afc8e50ae8fe4744e4" args="" -->BeforeMoller</em>&nbsp;</td><td>
<p>before an inelastic collision (e-) </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aae0918c762171145bf5823f3d9e9917c4"></a><!-- doxytag: member="AfterMoller" ref="a824708ab25ce90310fdee8e8a7a4cd1aae0918c762171145bf5823f3d9e9917c4" args="" -->AfterMoller</em>&nbsp;</td><td>
<p>after an inelastic collision (e-) </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa415fd71789c13304148d4cc9ce2feff9"></a><!-- doxytag: member="BeforeBhabha" ref="a824708ab25ce90310fdee8e8a7a4cd1aa415fd71789c13304148d4cc9ce2feff9" args="" -->BeforeBhabha</em>&nbsp;</td><td>
<p>before an inelastic collision (e+) </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aaeb757789ace892cd9b446d5b31ef1b04"></a><!-- doxytag: member="AfterBhabha" ref="a824708ab25ce90310fdee8e8a7a4cd1aaeb757789ace892cd9b446d5b31ef1b04" args="" -->AfterBhabha</em>&nbsp;</td><td>
<p>after an inelastic collision (e+) </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aafc56cb3a15e43e1d25b7d9ba1d51a7cc"></a><!-- doxytag: member="BeforeAnnihFlight" ref="a824708ab25ce90310fdee8e8a7a4cd1aafc56cb3a15e43e1d25b7d9ba1d51a7cc" args="" -->BeforeAnnihFlight</em>&nbsp;</td><td>
<p>before annihilation in flight </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa7c3177524066b849e632ffdaacc0c735"></a><!-- doxytag: member="AfterAnnihFlight" ref="a824708ab25ce90310fdee8e8a7a4cd1aa7c3177524066b849e632ffdaacc0c735" args="" -->AfterAnnihFlight</em>&nbsp;</td><td>
<p>after annihilation in flight </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aaa5808ecf7ce686f5f9fb89e837073ff9"></a><!-- doxytag: member="BeforeAnnihRest" ref="a824708ab25ce90310fdee8e8a7a4cd1aaa5808ecf7ce686f5f9fb89e837073ff9" args="" -->BeforeAnnihRest</em>&nbsp;</td><td>
<p>before annihilation at rest </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa6c885be903f540457cbfb4bc8c9ff871"></a><!-- doxytag: member="AfterAnnihRest" ref="a824708ab25ce90310fdee8e8a7a4cd1aa6c885be903f540457cbfb4bc8c9ff871" args="" -->AfterAnnihRest</em>&nbsp;</td><td>
<p>after annihilation at rest </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aabf9ed0719489931dfbc1351329705cc5"></a><!-- doxytag: member="BeforePair" ref="a824708ab25ce90310fdee8e8a7a4cd1aabf9ed0719489931dfbc1351329705cc5" args="" -->BeforePair</em>&nbsp;</td><td>
<p>before pair production </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa9912d8001eea4cb095005e16c88c658d"></a><!-- doxytag: member="AfterPair" ref="a824708ab25ce90310fdee8e8a7a4cd1aa9912d8001eea4cb095005e16c88c658d" args="" -->AfterPair</em>&nbsp;</td><td>
<p>after pair production </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa34bc692bee1c804c55e3aa4ce6248a0d"></a><!-- doxytag: member="BeforeCompton" ref="a824708ab25ce90310fdee8e8a7a4cd1aa34bc692bee1c804c55e3aa4ce6248a0d" args="" -->BeforeCompton</em>&nbsp;</td><td>
<p>before a Compton scattering event </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa86c8d52ed4786e22c62b5e39a8bf1033"></a><!-- doxytag: member="AfterCompton" ref="a824708ab25ce90310fdee8e8a7a4cd1aa86c8d52ed4786e22c62b5e39a8bf1033" args="" -->AfterCompton</em>&nbsp;</td><td>
<p>after a Compton scattering event </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa25b59192c13846fb262b4dda1b23303c"></a><!-- doxytag: member="BeforePhoto" ref="a824708ab25ce90310fdee8e8a7a4cd1aa25b59192c13846fb262b4dda1b23303c" args="" -->BeforePhoto</em>&nbsp;</td><td>
<p>before a photo-absorption event </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa94456fe61a84035bb0499cff443237be"></a><!-- doxytag: member="AfterPhoto" ref="a824708ab25ce90310fdee8e8a7a4cd1aa94456fe61a84035bb0499cff443237be" args="" -->AfterPhoto</em>&nbsp;</td><td>
<p>after a photo-absorption event </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aac65d3c6904961fb315a0f4c6323573e1"></a><!-- doxytag: member="EnteringUphi" ref="a824708ab25ce90310fdee8e8a7a4cd1aac65d3c6904961fb315a0f4c6323573e1" args="" -->EnteringUphi</em>&nbsp;</td><td>
<p>the rotation routine was just entered </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa68bb8a1b96b234255da9bae81d657bd8"></a><!-- doxytag: member="LeavingUphi" ref="a824708ab25ce90310fdee8e8a7a4cd1aa68bb8a1b96b234255da9bae81d657bd8" args="" -->LeavingUphi</em>&nbsp;</td><td>
<p>about to leave the rotation routine I consider the above 2 to be obsolete </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa727627b8b0a34af56e6ebd7139f77ead"></a><!-- doxytag: member="BeforeRayleigh" ref="a824708ab25ce90310fdee8e8a7a4cd1aa727627b8b0a34af56e6ebd7139f77ead" args="" -->BeforeRayleigh</em>&nbsp;</td><td>
<p>before coherent scattering </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa3f970c7dcc789c3324050ddae7f81d38"></a><!-- doxytag: member="AfterRayleigh" ref="a824708ab25ce90310fdee8e8a7a4cd1aa3f970c7dcc789c3324050ddae7f81d38" args="" -->AfterRayleigh</em>&nbsp;</td><td>
<p>after coherent scattering </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa917bbab03a3394d495e45279b0e9c08b"></a><!-- doxytag: member="FluorescentEvent" ref="a824708ab25ce90310fdee8e8a7a4cd1aa917bbab03a3394d495e45279b0e9c08b" args="" -->FluorescentEvent</em>&nbsp;</td><td>
<p>a fluorescent transition just occured </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa99341656e1f0ce9163caed104c36bf47"></a><!-- doxytag: member="CosterKronigEvent" ref="a824708ab25ce90310fdee8e8a7a4cd1aa99341656e1f0ce9163caed104c36bf47" args="" -->CosterKronigEvent</em>&nbsp;</td><td>
<p>a Coster-Kronig transition just occured </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa611f90b9fb3f8621b81a4dca3661be82"></a><!-- doxytag: member="AugerEvent" ref="a824708ab25ce90310fdee8e8a7a4cd1aa611f90b9fb3f8621b81a4dca3661be82" args="" -->AugerEvent</em>&nbsp;</td><td>
<p>an Auger transition just occured </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa855eaa885a0b4ca4fac66e9ed9f6d675"></a><!-- doxytag: member="BeforePhotoNuc" ref="a824708ab25ce90310fdee8e8a7a4cd1aa855eaa885a0b4ca4fac66e9ed9f6d675" args="" -->BeforePhotoNuc</em>&nbsp;</td><td>
<p>before a photonuclear event </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa88684a869784f2b8fb1f467b88c3fb08"></a><!-- doxytag: member="AfterPhotoNuc" ref="a824708ab25ce90310fdee8e8a7a4cd1aa88684a869784f2b8fb1f467b88c3fb08" args="" -->AfterPhotoNuc</em>&nbsp;</td><td>
<p>after a photonuclear event </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a824708ab25ce90310fdee8e8a7a4cd1aa7dff694ad2719daf85a4fc20ab5a39f4"></a><!-- doxytag: member="UnknownCall" ref="a824708ab25ce90310fdee8e8a7a4cd1aa7dff694ad2719daf85a4fc20ab5a39f4" args="" -->UnknownCall</em>&nbsp;</td><td>
<p>last element in the enumeration </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00497">497</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2dcf3379c55f4b436ad19ae70b2c06f3"></a><!-- doxytag: member="EGS_Application::EGS_Application" ref="a2dcf3379c55f4b436ad19ae70b2c06f3" args="(int argc, char **argv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EGS_Application::EGS_Application </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Construct an EGSnrc application. </p>
<p>The constructor checks the arguments passed on the command line and sets up the name of the application, the input file name, the pegs file name, the output file name, the working directory, batch vs interactive run, parallel job execution (i_parallel and n_parallel) and reads in the input file into an <a class="el" href="classEGS__Input.html" title="A class for storing information in a tree-like structure of key-value pairs. This class is used throu...">EGS_Input</a> object (a pointer to this object is available with the protected data member <a class="el" href="classEGS__Application.html#a6067426a81c58bb73ba412244c5fae39" title="the input to this simulation.">input</a>) </p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00184">184</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__application_8h_source.html#l00504">AfterTransport</a>, <a class="el" href="egs__application_8h_source.html#l00939">app_dir</a>, <a class="el" href="egs__application_8h_source.html#l00976">app_index</a>, <a class="el" href="egs__application_8h_source.html#l00936">app_name</a>, <a class="el" href="egs__application_8h_source.html#l00934">ausgab_flag</a>, <a class="el" href="egs__application_8h_source.html#l00950">batch_run</a>, <a class="el" href="egs__application_8h_source.html#l00498">BeforeTransport</a>, <a class="el" href="egs__application_8cpp_source.html#l00116">checkEnvironmentVar()</a>, <a class="el" href="egs__application_8h_source.html#l00937">egs_home</a>, <a class="el" href="egs__functions_8cpp_source.html#l00117">egsFatal</a>, <a class="el" href="egs__functions_8cpp_source.html#l00204">egsGetPid()</a>, <a class="el" href="egs__functions_8cpp_source.html#l00183">egsHostName()</a>, <a class="el" href="egs__functions_8cpp_source.html#l00154">egsJoinPath()</a>, <a class="el" href="egs__functions_8cpp_source.html#l00163">egsStripPath()</a>, <a class="el" href="egs__functions_8cpp_source.html#l00116">egsWarning</a>, <a class="el" href="egs__application_8h_source.html#l00944">final_output_file</a>, <a class="el" href="egs__application_8cpp_source.html#l00342">getArgument()</a>, <a class="el" href="egs__application_8h_source.html#l00938">hen_house</a>, <a class="el" href="egs__application_8h_source.html#l00948">i_parallel</a>, <a class="el" href="egs__application_8h_source.html#l00928">input</a>, <a class="el" href="egs__application_8h_source.html#l00942">input_file</a>, <a class="el" href="egs__application_8h_source.html#l00952">is_pegsless</a>, <a class="el" href="egs__application_8h_source.html#l00948">n_parallel</a>, <a class="el" href="egs__application_8h_source.html#l00943">output_file</a>, <a class="el" href="egs__application_8h_source.html#l00940">run_dir</a>, <a class="el" href="egs__input_8cpp_source.html#l00173">EGS_Input::setContentFromFile()</a>, <a class="el" href="egs__application_8h_source.html#l00951">simple_run</a>, and <a class="el" href="egs__application_8h_source.html#l00531">UnknownCall</a>.</p>

</div>
</div>
<a class="anchor" id="a6ea5d37d3c26910c318572ad855bf0e6"></a><!-- doxytag: member="EGS_Application::~EGS_Application" ref="a6ea5d37d3c26910c318572ad855bf0e6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EGS_Application::~EGS_Application </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destruct the EGSnrc application. </p>
<p>The destructor deletes the random number generator, the run control object, the input object, the source and the geometry. </p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00679">679</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__application_8h_source.html#l00982">a_objects</a>, <a class="el" href="egs__application_8h_source.html#l00976">app_index</a>, <a class="el" href="egs__object__factory_8h_source.html#l00156">EGS_Object::deleteObject()</a>, <a class="el" href="egs__base__geometry_8h_source.html#l00575">EGS_BaseGeometry::deref()</a>, <a class="el" href="egs__application_8h_source.html#l00929">geometry</a>, <a class="el" href="egs__application_8h_source.html#l00928">input</a>, <a class="el" href="egs__application_8h_source.html#l00931">rndm</a>, <a class="el" href="egs__application_8h_source.html#l00932">run</a>, <a class="el" href="egs__base__geometry_8cpp_source.html#l00296">EGS_BaseGeometry::setActiveGeometryList()</a>, and <a class="el" href="egs__application_8h_source.html#l00930">source</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a5892c4a70103f7ab5c26426c50c90d0c"></a><!-- doxytag: member="EGS_Application::initSimulation" ref="a5892c4a70103f7ab5c26426c50c90d0c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EGS_Application::initSimulation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes the EGSnrc application. </p>
<p>The default implementation of this function performs initializations related to the geometry, the source, the random number generator, the run control object, the EGSnrc mortran back end, the cross sections and the scoring of quantities of interest by calling in succession the protected virtual functions <a class="el" href="classEGS__Application.html#a8e5b3e38cea9d77464cc1398401e4895" title="Initialize the simulation geometry.">initGeometry()</a>, <a class="el" href="classEGS__Application.html#ac33a7611de1313de0b9b295ddff89938" title="Initialize the particle source.">initSource()</a>, <a class="el" href="classEGS__Application.html#a93ed62952e5e9d1de7e919dc21362ecb" title="Initialize the random number generator.">initRNG()</a>, <a class="el" href="classEGS__Application.html#a47d256a337ed07fde2f68fb1808f90d7" title="Construct the run control object.">initRunControl()</a>, <a class="el" href="classEGS__Application.html#ae850d69402abb050cf27c510ab8df91b" title="Initialize the EGSnrc backend.">initEGSnrcBackEnd()</a>, <a class="el" href="classEGS__Application.html#a9c02051c5c1a05281a70e4ed72126547" title="Initialize the EGSnrc cross sections and cross section/transport options.">initCrossSections()</a> and <a class="el" href="classEGS__Application.html#a56fd2259ae9ea5cc0a5f1ddaa5f8adc7" title="Initialize the scoring of quantities of interest.">initScoring()</a>.</p>
<ul>
<li>If all calls succeed (i.e. the above functions return zero) the return value is zero.</li>
<li>The return value is 1 if any of <a class="el" href="classEGS__Application.html#a8e5b3e38cea9d77464cc1398401e4895" title="Initialize the simulation geometry.">initGeometry()</a>, <a class="el" href="classEGS__Application.html#ac33a7611de1313de0b9b295ddff89938" title="Initialize the particle source.">initSource()</a>, <a class="el" href="classEGS__Application.html#a93ed62952e5e9d1de7e919dc21362ecb" title="Initialize the random number generator.">initRNG()</a> or <a class="el" href="classEGS__Application.html#a47d256a337ed07fde2f68fb1808f90d7" title="Construct the run control object.">initRunControl()</a> returns a non-zero status,</li>
<li>2 if <a class="el" href="classEGS__Application.html#ae850d69402abb050cf27c510ab8df91b" title="Initialize the EGSnrc backend.">initEGSnrcBackEnd()</a> returns a non-zero status,</li>
<li>3 if <a class="el" href="classEGS__Application.html#a9c02051c5c1a05281a70e4ed72126547" title="Initialize the EGSnrc cross sections and cross section/transport options.">initCrossSections()</a> returns a non-zero status and</li>
<li>4 if <a class="el" href="classEGS__Application.html#a56fd2259ae9ea5cc0a5f1ddaa5f8adc7" title="Initialize the scoring of quantities of interest.">initScoring()</a> returns a non-zero status.</li>
</ul>
<p>The EGSnrc C++ application developer can change the way an EGSnrc application is initialized by re-implementing this function or one of the virtual functions called from it. </p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00516">516</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__application_8h_source.html#l00737">describeUserCode()</a>, <a class="el" href="egs__functions_8cpp_source.html#l00115">egsInformation</a>, <a class="el" href="egs__functions_8cpp_source.html#l00116">egsWarning</a>, <a class="el" href="egs__application_8cpp_source.html#l00720">initAusgabObjects()</a>, <a class="el" href="egs__application_8h_source.html#l00822">initCrossSections()</a>, <a class="el" href="egs__application_8h_source.html#l00877">initEGSnrcBackEnd()</a>, <a class="el" href="egs__application_8cpp_source.html#l00473">initGeometry()</a>, <a class="el" href="egs__application_8cpp_source.html#l00500">initRNG()</a>, <a class="el" href="egs__application_8cpp_source.html#l00492">initRunControl()</a>, <a class="el" href="egs__application_8h_source.html#l00831">initScoring()</a>, and <a class="el" href="egs__application_8cpp_source.html#l00483">initSource()</a>.</p>

</div>
</div>
<a class="anchor" id="aafbcd594c98246218e6b6fdbd8ac86fa"></a><!-- doxytag: member="EGS_Application::setSimulationChunk" ref="aafbcd594c98246218e6b6fdbd8ac86fa" args="(EGS_I64 nstart, EGS_I64 nrun)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EGS_Application::setSimulationChunk </td>
          <td>(</td>
          <td class="paramtype">EGS_I64&#160;</td>
          <td class="paramname"><em>nstart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EGS_I64&#160;</td>
          <td class="paramname"><em>nrun</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the simulation chunk. </p>
<p>Tells the application that the next chunk of particles to be simulated starts at <em>nstart</em> and will consist of <em>nrun</em> particles. This is necessary for parallel runs using phase space files. The default implementation simply calls the <a class="el" href="classEGS__BaseSource.html#a31febc3f97906712aab849f948eb102b" title="Set the next simulation chunk to start at nstart and to consist of nrun particles.">EGS_BaseSource::setSimulationChunk()</a> method. </p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00563">563</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__base__source_8h_source.html#l00141">EGS_BaseSource::setSimulationChunk()</a>, and <a class="el" href="egs__application_8h_source.html#l00930">source</a>.</p>

</div>
</div>
<a class="anchor" id="ae664d8b5da98fe52520463797555b18e"></a><!-- doxytag: member="EGS_Application::runSimulation" ref="ae664d8b5da98fe52520463797555b18e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EGS_Application::runSimulation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Runs an EGSnrc simulation. </p>
<p>This function performs the actual simulation. In its default implementation, the shower loop is a loop that is repeated while the getNextChunk() function of the run control object returns a positive number of histories to run. Each time getNextChunk() returns a positive number of histories to simulate, this number is split into "batches" (the number of batches is obtained from the run control object using getNbatch()) and the startBatch() and finishBatch() functions of the run control object are called at the beginning and end of a batch. The startBatch() and finishBatch() functions are virtual and can be re-implemented in derived classes to do things such as reporting the progress of the simulation, storing intermediate results into files, etc. In each batch the <a class="el" href="classEGS__Application.html#ab14a7252372ed6da1421f4778a3d0573" title="Simulates a single particle shower.">simulateSingleShower()</a> function is called the appropriate number of times. The loop over single showers is terminated if <a class="el" href="classEGS__Application.html#ab14a7252372ed6da1421f4778a3d0573" title="Simulates a single particle shower.">simulateSingleShower()</a> returns a non-zero status. The loop over batches is terminated if either startBatch() or finishBatch() returns a non-zero status. </p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00584">584</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__functions_8cpp_source.html#l00115">egsInformation</a>, <a class="el" href="egs__functions_8cpp_source.html#l00116">egsWarning</a>, <a class="el" href="egs__run__control_8cpp_source.html#l00175">EGS_RunControl::finishBatch()</a>, <a class="el" href="egs__application_8h_source.html#l00929">geometry</a>, <a class="el" href="egs__run__control_8h_source.html#l00119">EGS_RunControl::getNbatch()</a>, <a class="el" href="egs__run__control_8h_source.html#l00142">EGS_RunControl::getNextChunk()</a>, <a class="el" href="egs__application_8h_source.html#l00931">rndm</a>, <a class="el" href="egs__application_8h_source.html#l00932">run</a>, <a class="el" href="egs__application_8cpp_source.html#l00648">simulateSingleShower()</a>, <a class="el" href="egs__application_8h_source.html#l00930">source</a>, <a class="el" href="egs__run__control_8cpp_source.html#l00157">EGS_RunControl::startBatch()</a>, and <a class="el" href="egs__run__control_8cpp_source.html#l00126">EGS_RunControl::startSimulation()</a>.</p>

</div>
</div>
<a class="anchor" id="a41ca73d210e9d3e5ff1d54ca70e6f81d"></a><!-- doxytag: member="EGS_Application::finishSimulation" ref="a41ca73d210e9d3e5ff1d54ca70e6f81d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EGS_Application::finishSimulation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Analyze and output the results. </p>
<p>The default implementation of this function calls the <code>finishSimulation</code> method of the run control object and simply returns its exit code if this is negative (indicating some sort of an error condition). Otherwise <a class="el" href="classEGS__Application.html#a6c5e36aaaf4dbfe46a9b0a240273c07a" title="Output the simulation results.">outputResults()</a> and finishRun() are called in succession. </p>

<p>Reimplemented in <a class="el" href="classEGS__AdvancedApplication.html#a95905591d4fd2397c0ef48508ccd0289">EGS_AdvancedApplication</a>.</p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00727">727</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__application_8h_source.html#l00979">a_objects_list</a>, <a class="el" href="egs__application_8h_source.html#l00964">data_out</a>, <a class="el" href="egs__run__control_8cpp_source.html#l00533">EGS_RunControl::finishSimulation()</a>, <a class="el" href="egs__application_8h_source.html#l00401">outputResults()</a>, <a class="el" href="egs__application_8h_source.html#l00932">run</a>, and <a class="el" href="egs__application_8h_source.html#l00940">run_dir</a>.</p>

</div>
</div>
<a class="anchor" id="a3a31178eda680a07d0bca381d85b9452"></a><!-- doxytag: member="EGS_Application::describeSimulation" ref="a3a31178eda680a07d0bca381d85b9452" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EGS_Application::describeSimulation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Describe the simulation. </p>
<p>This function should produce information about the geometry, source, transport parameter, scoring options, etc. The default implementation described the geometry and the source. </p>

<p>Reimplemented in <a class="el" href="classEGS__AdvancedApplication.html#af70c20ea7cb0bf1997f3761e79b0c6ca">EGS_AdvancedApplication</a>.</p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00567">567</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__application_8h_source.html#l00979">a_objects_list</a>, <a class="el" href="egs__rndm_8h_source.html#l00235">EGS_RandomGenerator::describeRNG()</a>, <a class="el" href="egs__functions_8cpp_source.html#l00115">egsInformation</a>, <a class="el" href="egs__application_8h_source.html#l00929">geometry</a>, <a class="el" href="egs__base__source_8h_source.html#l00107">EGS_BaseSource::getSourceDescription()</a>, <a class="el" href="egs__base__geometry_8cpp_source.html#l00524">EGS_BaseGeometry::printInfo()</a>, <a class="el" href="egs__application_8h_source.html#l00931">rndm</a>, and <a class="el" href="egs__application_8h_source.html#l00930">source</a>.</p>

<p>Referenced by <a class="el" href="egs__run__control_8cpp_source.html#l00126">EGS_RunControl::startSimulation()</a>.</p>

</div>
</div>
<a class="anchor" id="ab14a7252372ed6da1421f4778a3d0573"></a><!-- doxytag: member="EGS_Application::simulateSingleShower" ref="ab14a7252372ed6da1421f4778a3d0573" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EGS_Application::simulateSingleShower </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Simulates a single particle shower. </p>
<p>The default implementation of this function obtaines particles from the source until a particle is inside the geometry or the particle trajectory enters the geometry (if no particle out of 100000 particles enters the geometry there is a warning issued and 1 is returned to the calling function). When a particle enters the geometry, the <a class="el" href="classEGS__Application.html#a2a3aa6b3640802f7cd72b6679f589380" title="Called just before the shower() function.">startNewShower()</a>, <a class="el" href="classEGS__Application.html#afbf53d298189867b6750c00bc8e528ba" title="Simulate a single shower.">shower()</a> and <a class="el" href="classEGS__Application.html#aaf8421f19360d5a67f1025e6dbf0ce73" title="Called just after the shower() function.">finishShower()</a> functions are called in succession. If any of these functions returns a non-zero status, <a class="el" href="classEGS__Application.html#ab14a7252372ed6da1421f4778a3d0573" title="Simulates a single particle shower.">simulateSingleShower()</a> returns immediately with this status (so that, if all other calls are successful, the return value of <a class="el" href="classEGS__Application.html#aaf8421f19360d5a67f1025e6dbf0ce73" title="Called just after the shower() function.">finishShower()</a> becomes the return value of <a class="el" href="classEGS__Application.html#ab14a7252372ed6da1421f4778a3d0573" title="Simulates a single particle shower.">simulateSingleShower()</a> ) </p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00648">648</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__application_8h_source.html#l00956">current_case</a>, <a class="el" href="egs__application_8h_source.html#l00065">EGS_Particle::E</a>, <a class="el" href="egs__functions_8cpp_source.html#l00116">egsWarning</a>, <a class="el" href="egs__application_8h_source.html#l00908">finishShower()</a>, <a class="el" href="egs__application_8h_source.html#l00929">geometry</a>, <a class="el" href="classEGS__BaseSource.html#aac271bf033f41e63d83683f8faba9f01">EGS_BaseSource::getNextParticle()</a>, <a class="el" href="classEGS__BaseGeometry.html#a42a459b557011291ea2e8978ebee6295">EGS_BaseGeometry::howfar()</a>, <a class="el" href="egs__application_8h_source.html#l00064">EGS_Particle::ir</a>, <a class="el" href="classEGS__BaseGeometry.html#af1a37ed6f281a2442a7e96d9658894a9">EGS_BaseGeometry::isWhere()</a>, <a class="el" href="egs__application_8h_source.html#l00957">last_case</a>, <a class="el" href="egs__application_8h_source.html#l00063">EGS_Particle::latch</a>, <a class="el" href="egs__application_8h_source.html#l00954">p</a>, <a class="el" href="egs__application_8h_source.html#l00062">EGS_Particle::q</a>, <a class="el" href="egs__application_8h_source.html#l00931">rndm</a>, <a class="el" href="egs__application_8h_source.html#l00919">shower()</a>, <a class="el" href="egs__application_8h_source.html#l00930">source</a>, <a class="el" href="egs__application_8cpp_source.html#l00671">startNewShower()</a>, <a class="el" href="egs__application_8h_source.html#l00068">EGS_Particle::u</a>, <a class="el" href="egs__application_8h_source.html#l00066">EGS_Particle::wt</a>, and <a class="el" href="egs__application_8h_source.html#l00067">EGS_Particle::x</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00584">runSimulation()</a>.</p>

</div>
</div>
<a class="anchor" id="a7a761194d6a4fe8e0d373643f1825809"></a><!-- doxytag: member="EGS_Application::getCurrentResult" ref="a7a761194d6a4fe8e0d373643f1825809" args="(double &amp;sum, double &amp;sum2, double &amp;norm, double &amp;count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void EGS_Application::getCurrentResult </td>
          <td>(</td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>sum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>sum2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>norm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Report the current result. </p>
<p>This virtual function should be re-implemented in derived classes to report intermediate results during a simulation. </p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00384">384</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

<p>Referenced by <a class="el" href="egs__run__control_8cpp_source.html#l00175">EGS_RunControl::finishBatch()</a>.</p>

</div>
</div>
<a class="anchor" id="a338234a10d12a0563a91c41f143e7a53"></a><!-- doxytag: member="EGS_Application::analyzeResults" ref="a338234a10d12a0563a91c41f143e7a53" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void EGS_Application::analyzeResults </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Analyze the simulation results. </p>
<p>This virtual function should be re-implemented in derived classes to perform the statistical analysis of the simulation results. </p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00394">394</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6c5e36aaaf4dbfe46a9b0a240273c07a"></a><!-- doxytag: member="EGS_Application::outputResults" ref="a6c5e36aaaf4dbfe46a9b0a240273c07a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void EGS_Application::outputResults </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Output the simulation results. </p>
<p>This virtual function should be re-implemented in derived classes to output the simulation results. </p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00401">401</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00727">finishSimulation()</a>, and <a class="el" href="egs__advanced__application_8cpp_source.html#l00649">EGS_AdvancedApplication::finishSimulation()</a>.</p>

</div>
</div>
<a class="anchor" id="ad79975ab3d843f8535d2a223992a43ab"></a><!-- doxytag: member="EGS_Application::combineResults" ref="ad79975ab3d843f8535d2a223992a43ab" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EGS_Application::combineResults </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Combine results from parallel runs. </p>
<p>The default implementation of this function first calls <a class="el" href="classEGS__Application.html#a2079fb68cea3fc40c5bc49ef93684c1a" title="Reset the application to a &#39;pristine&#39; state.">resetCounter()</a> to set the application to a 'pristine' state and then loops over all files with file names of the form <code>ofile_wX.egsdat</code>, where <code>ofile</code> is the output file name for the parallel run and <em>X</em> is an integer between 1 and 100, adding the data from these files using <a class="el" href="classEGS__Application.html#a3cf7f89d4e647ed33e1d9efc27ea65da" title="Add data from a parallel job.">addState()</a>. This implementation should work for almost any situation. Nevertheless, <a class="el" href="classEGS__Application.html#ad79975ab3d843f8535d2a223992a43ab" title="Combine results from parallel runs.">combineResults()</a> is declared as virtual to give the possibility for re-implementation, just in case something unusual needs to be done to sum the results of parallel runs. </p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00434">434</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__application_8cpp_source.html#l00423">addState()</a>, <a class="el" href="egs__application_8h_source.html#l00939">app_dir</a>, <a class="el" href="egs__functions_8cpp_source.html#l00115">egsInformation</a>, <a class="el" href="egs__functions_8cpp_source.html#l00154">egsJoinPath()</a>, <a class="el" href="egs__functions_8cpp_source.html#l00116">egsWarning</a>, <a class="el" href="egs__application_8h_source.html#l00943">output_file</a>, <a class="el" href="egs__application_8cpp_source.html#l00412">resetCounter()</a>, and <a class="el" href="egs__application_8h_source.html#l00932">run</a>.</p>

<p>Referenced by <a class="el" href="egs__advanced__application_8cpp_source.html#l00649">EGS_AdvancedApplication::finishSimulation()</a>, and <a class="el" href="egs__run__control_8cpp_source.html#l00126">EGS_RunControl::startSimulation()</a>.</p>

</div>
</div>
<a class="anchor" id="a5093794169ded8b633363e4efa45856b"></a><!-- doxytag: member="EGS_Application::outputData" ref="a5093794169ded8b633363e4efa45856b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EGS_Application::outputData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Output intermediate results. </p>
<p>This function stores the state of the application to a data file. Stored quantities are <a class="el" href="classEGS__Application.html#a3b6078556ea6054228474eba59351cc5" title="The last case simulated.">last_case</a>, the state of the run control object, the state of the source object and the state of the random number generator. The data is stored in <code>coutput_file.egsdat</code> and <a class="el" href="classEGS__Application.html#ab382f1b191803900a08a11decdd71714" title="data output stream">data_out</a> points to the output data stream created by opening the file. Derived classes should re-implement to add their own data to the above after invoking the base class <a class="el" href="classEGS__Application.html#a5093794169ded8b633363e4efa45856b" title="Output intermediate results.">outputData()</a> function. The data stored should be enough to be able to restart a previous calculation and/or to combine the results of parallel runs. </p>

<p>Reimplemented in <a class="el" href="classEGS__AdvancedApplication.html#a5938d12d44e755accaacd79aa92c805c">EGS_AdvancedApplication</a>.</p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00364">364</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__application_8h_source.html#l00979">a_objects_list</a>, <a class="el" href="egs__application_8cpp_source.html#l00356">constructIOFileName()</a>, <a class="el" href="egs__application_8h_source.html#l00956">current_case</a>, <a class="el" href="egs__application_8h_source.html#l00964">data_out</a>, <a class="el" href="egs__functions_8cpp_source.html#l00057">egsStoreI64()</a>, <a class="el" href="egs__functions_8cpp_source.html#l00116">egsWarning</a>, <a class="el" href="egs__application_8h_source.html#l00931">rndm</a>, <a class="el" href="egs__application_8h_source.html#l00932">run</a>, <a class="el" href="egs__application_8h_source.html#l00930">source</a>, <a class="el" href="egs__base__source_8h_source.html#l00181">EGS_BaseSource::storeState()</a>, and <a class="el" href="egs__rndm_8cpp_source.html#l00068">EGS_RandomGenerator::storeState()</a>.</p>

<p>Referenced by <a class="el" href="egs__run__control_8cpp_source.html#l00175">EGS_RunControl::finishBatch()</a>.</p>

</div>
</div>
<a class="anchor" id="afee7822440bf2c01efaa2ee984d33f85"></a><!-- doxytag: member="EGS_Application::readData" ref="afee7822440bf2c01efaa2ee984d33f85" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EGS_Application::readData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read intermediate results. </p>
<p>Opens the data file <code>input_file.egsdat</code> for reading, which must contain results of a previous simulation stored with <a class="el" href="classEGS__Application.html#a5093794169ded8b633363e4efa45856b" title="Output intermediate results.">outputData()</a>, and sets <a class="el" href="classEGS__Application.html#a978476a101fc626a2cfa8d2c18a244f9" title="data input stream">data_in</a> to point to the input stream. It then reads and sets the state of the application from a data file. Read quantities are <a class="el" href="classEGS__Application.html#a3b6078556ea6054228474eba59351cc5" title="The last case simulated.">last_case</a>, the state of the run control object, the state of the source object and the state of the random number generator. Derived classes should re-implement to read their additional data after invoking the base class <a class="el" href="classEGS__Application.html#afee7822440bf2c01efaa2ee984d33f85" title="Read intermediate results.">readData()</a> function. This function is intended to be used for restarted calculations. </p>

<p>Reimplemented in <a class="el" href="classEGS__AdvancedApplication.html#a06f19f07a28df1d2384ee29addace191">EGS_AdvancedApplication</a>.</p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00389">389</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__application_8h_source.html#l00979">a_objects_list</a>, <a class="el" href="egs__application_8cpp_source.html#l00356">constructIOFileName()</a>, <a class="el" href="egs__application_8h_source.html#l00956">current_case</a>, <a class="el" href="egs__application_8h_source.html#l00971">data_in</a>, <a class="el" href="egs__functions_8cpp_source.html#l00064">egsGetI64()</a>, <a class="el" href="egs__functions_8cpp_source.html#l00116">egsWarning</a>, <a class="el" href="egs__application_8h_source.html#l00957">last_case</a>, <a class="el" href="egs__application_8h_source.html#l00931">rndm</a>, <a class="el" href="egs__application_8h_source.html#l00932">run</a>, <a class="el" href="egs__base__source_8h_source.html#l00193">EGS_BaseSource::setState()</a>, and <a class="el" href="egs__application_8h_source.html#l00930">source</a>.</p>

<p>Referenced by <a class="el" href="egs__run__control_8cpp_source.html#l00126">EGS_RunControl::startSimulation()</a>.</p>

</div>
</div>
<a class="anchor" id="a22d51d2dd3b400a47a51a41a61f818e0"></a><!-- doxytag: member="EGS_Application::getFinalOutputFile" ref="a22d51d2dd3b400a47a51a41a61f818e0" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const string&amp; EGS_Application::getFinalOutputFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the base name of the final output file(s) </p>
<p>For single job runs the final output file name is the same as the output file name obtained via <a class="el" href="classEGS__Application.html#aedda0338138a935f8d93d5364763d1f2" title="Returns the base name of the output file(s)">getOutputFile()</a>. For parallel runs they are different with this function returning xxx wheras <a class="el" href="classEGS__Application.html#aedda0338138a935f8d93d5364763d1f2" title="Returns the base name of the output file(s)">getOutputFile()</a> returns xxx_wX with xxx indicating the output file name and X the job number. </p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00476">476</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

</div>
</div>
<a class="anchor" id="a952dba7b0e1f8418bcfd6bf45472be06"></a><!-- doxytag: member="EGS_Application::constructIOFileName" ref="a952dba7b0e1f8418bcfd6bf45472be06" args="(const char *extension, bool with_run_dir) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string EGS_Application::constructIOFileName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>with_run_dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructs and returns the name of an input/output file. </p>
<p>Constructs the name of the file by joining the application directory, run directory (which may be empty, if this is the job combining a parallel run), if <em>with_run_dir</em> is true, the output file name, and the extension given as argument. </p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00356">356</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__application_8h_source.html#l00939">app_dir</a>, <a class="el" href="egs__functions_8cpp_source.html#l00154">egsJoinPath()</a>, <a class="el" href="egs__application_8h_source.html#l00943">output_file</a>, and <a class="el" href="egs__application_8h_source.html#l00940">run_dir</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00364">outputData()</a>, and <a class="el" href="egs__application_8cpp_source.html#l00389">readData()</a>.</p>

</div>
</div>
<a class="anchor" id="a38bd7b0a03e87c07c63b0713da56518a"></a><!-- doxytag: member="EGS_Application::setAusgabCall" ref="a38bd7b0a03e87c07c63b0713da56518a" args="(AusgabCall call, bool on_or_off)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void EGS_Application::setAusgabCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEGS__Application.html#a824708ab25ce90310fdee8e8a7a4cd1a">AusgabCall</a>&#160;</td>
          <td class="paramname"><em>call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>on_or_off</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Turns on or off a call to the user scoring function ausgab. </p>
<p>This function is re-implemented in <a class="el" href="classEGS__AdvancedApplication.html" title="Base class for advanced EGSnrc applications based on the mortran EGSnrc back-end.">EGS_AdvancedApplication</a> to also modify the mortran array iausfl </p>

<p>Reimplemented in <a class="el" href="classEGS__AdvancedApplication.html#aa99e11b4787a5910d28c6afb14d090b2">EGS_AdvancedApplication</a>.</p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00539">539</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00706">addAusgabObject()</a>, and <a class="el" href="egs__advanced__application_8cpp_source.html#l00128">EGS_AdvancedApplication::setAusgabCall()</a>.</p>

</div>
</div>
<a class="anchor" id="a7c064f3b3e28a24706e3dca687eb3921"></a><!-- doxytag: member="EGS_Application::getNparallel" ref="a7c064f3b3e28a24706e3dca687eb3921" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EGS_Application::getNparallel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the number of parallel jobs executing. </p>
<p>The number of parallel jobs is taken from the command line argument <code>-P n</code> (or <code>--parallel n</code>) but is reset to 1 if there was no job number specified (see <a class="el" href="classEGS__Application.html#a978f88293d28c1b715f4a3580e6c2b38" title="Returns the job number in a parallel run.">getIparallel()</a>) or the job number was greater than the number of parallel jobs. </p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00550">550</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

</div>
</div>
<a class="anchor" id="a978f88293d28c1b715f4a3580e6c2b38"></a><!-- doxytag: member="EGS_Application::getIparallel" ref="a978f88293d28c1b715f4a3580e6c2b38" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EGS_Application::getIparallel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the job number in a parallel run. </p>
<p>The job number is specified on the command line using <code>-j n</code> or <code>--job n</code> and requires that the number of parallel jobs was also specified using <code>-P n</code>. </p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00558">558</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

<p>Referenced by <a class="el" href="egs__beam__source_8cpp_source.html#l00052">EGS_BeamSource::EGS_BeamSource()</a>.</p>

</div>
</div>
<a class="anchor" id="a440920c49dc0fa80613d1c6ddda75060"></a><!-- doxytag: member="EGS_Application::howfar" ref="a440920c49dc0fa80613d1c6ddda75060" args="(int ireg, const EGS_Vector &amp;x, const EGS_Vector &amp;u, EGS_Float &amp;t, int *newmed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EGS_Application::howfar </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ireg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EGS_Float &amp;&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>newmed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calculates distance to a boundary along the current direction. </p>
<p>This function implements the EGSnrc howfar geometry specification </p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00564">564</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab65ad5f735367024a572f66750bdf4b1"></a><!-- doxytag: member="EGS_Application::hownear" ref="ab65ad5f735367024a572f66750bdf4b1" args="(int ireg, const EGS_Vector &amp;x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EGS_Float EGS_Application::hownear </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ireg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classEGS__Vector.html">EGS_Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calculates nearest distance to a boundary in any direction. </p>
<p>This function implements the EGSnrc hownear geometry specification </p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00581">581</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

</div>
</div>
<a class="anchor" id="a788816794dfad8803a189849f68d25f1"></a><!-- doxytag: member="EGS_Application::isRealRegion" ref="a788816794dfad8803a189849f68d25f1" args="(int ireg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EGS_Application::isRealRegion </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ireg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if <em>ireg</em> is a real region, false otherwise. </p>
<p>This method is needed because of the region indexing style used by some composite geometries which results in a larger number of regions than actual regions. This method can be used in such cases to check if a region exists. </p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00595">595</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

</div>
</div>
<a class="anchor" id="aec46db22a45ddf193fc102ea008d64d6"></a><!-- doxytag: member="EGS_Application::userScoring" ref="aec46db22a45ddf193fc102ea008d64d6" args="(int iarg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EGS_Application::userScoring </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iarg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>User scoring function for accumulation of results and VRT implementation. </p>
<p>This function first calls the processEvent() method of the ausgab objects registered with the application and then proceeds to call <a class="el" href="classEGS__Application.html#a61c480b0e0bdff165c752876b7cf57c0" title="User scoring function.">ausgab()</a>. </p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00103">103</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a61c480b0e0bdff165c752876b7cf57c0"></a><!-- doxytag: member="EGS_Application::ausgab" ref="a61c480b0e0bdff165c752876b7cf57c0" args="(int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int EGS_Application::ausgab </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>User scoring function. </p>
<p>This function should be re-implemented in derived classes to perform the actual scoring of the quantities of interest. </p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00611">611</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

</div>
</div>
<a class="anchor" id="a46c7f5de7c682b2821e94195f9c9cfc0"></a><!-- doxytag: member="EGS_Application::startNewParticle" ref="a46c7f5de7c682b2821e94195f9c9cfc0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void EGS_Application::startNewParticle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start the transport of a new particle. </p>
<p>This function is called just before the transport of a new particle begins and should be re-implemented in derived classes. Its default re-implementation in <a class="el" href="classEGS__AdvancedApplication.html" title="Base class for advanced EGSnrc applications based on the mortran EGSnrc back-end.">EGS_AdvancedApplication</a> is to set the medium index of the current particle region. It can be re-implemented in derived classes to set other quantities such as ecut, pcut, etc. in order to have such quantities varying on a region-by-region bases. </p>

<p>Reimplemented in <a class="el" href="classEGS__AdvancedApplication.html#a85d54711a00e50443963a9fc9d94e08e">EGS_AdvancedApplication</a>.</p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00623">623</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

</div>
</div>
<a class="anchor" id="aaef1f98f22e806a5245c4ec3094887e7"></a><!-- doxytag: member="EGS_Application::enterNewRegion" ref="aaef1f98f22e806a5245c4ec3094887e7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void EGS_Application::enterNewRegion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Particle enters new region. </p>
<p>This function is intended for setting up more sophisticated transport schemes that vary on a region-by-region basis. In the mortran sources when there is a region change the macros $electron_region_change or $photon_region_change are executed. In their default implementation these macros set ecut or pcut to ecut_new or pcut_new, rhor to rhor_new, medium to medium_new, the region index to irnew and smaxir to smax_new. In this way, if the user wants to implement a region-by-region variation of the above quantites, the xxx_new variables must be set to their new values in howfar, if a region change will take place at the end of the step. For varying additional quantities, the user can replace the $electron_region_change and/or $photon_region_change macros with calls to a function, which calls <a class="el" href="classEGS__Application.html#aaef1f98f22e806a5245c4ec3094887e7" title="Particle enters new region.">enterNewRegion()</a> and provide an implementation of <a class="el" href="classEGS__Application.html#aaef1f98f22e806a5245c4ec3094887e7" title="Particle enters new region.">enterNewRegion()</a>. </p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00643">643</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae17a2f30e8f09cfcb236e710d31df92e"></a><!-- doxytag: member="EGS_Application::fillRandomArray" ref="ae17a2f30e8f09cfcb236e710d31df92e" args="(int n, EGS_Float *rns)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EGS_Application::fillRandomArray </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EGS_Float *&#160;</td>
          <td class="paramname"><em>rns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fill an array with random numbers using the application's RNG. </p>
<p>This function is called from within the mortran sources to get a new set of n random numbers. Its default implementation uses the application random number generator to fill the array pointed to by rns with n random numbers. </p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00762">762</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="classEGS__RandomGenerator.html#a0f62f25abdf92abd56d303ef0778491d">EGS_RandomGenerator::fillArray()</a>, and <a class="el" href="egs__application_8h_source.html#l00931">rndm</a>.</p>

</div>
</div>
<a class="anchor" id="a0bacaf36aa14a5851c5dd6f8efd679ee"></a><!-- doxytag: member="EGS_Application::activeApplication" ref="a0bacaf36aa14a5851c5dd6f8efd679ee" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EGS_EXPORT <a class="el" href="classEGS__Application.html">EGS_Application</a> * EGS_Application::activeApplication </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the active application. </p>
<p>This static function returns a pointer to the currently active application, which can be changed via a call to <a class="el" href="classEGS__Application.html#a44b849306c441b4a68b09315f585fcc7" title="Set the active EGS_Application class.">setActiveApplication()</a>. Its primary use is to obtain the pointer to the active <a class="el" href="classEGS__Application.html" title="Base class for advanced EGSnrc C++ applications.">EGS_Application</a> instance in the C-style functions (howfar, hownear, ausgab, etc) needed for the mortran subroutines in order to call the corresponding <a class="el" href="classEGS__Application.html" title="Base class for advanced EGSnrc C++ applications.">EGS_Application</a> method. In most cases there will be a single EGSnrc application and the pointer to it will be set-up automatically when constructing the only <a class="el" href="classEGS__Application.html" title="Base class for advanced EGSnrc C++ applications.">EGS_Application</a> class. However, in more advanced application the user may want to have several <a class="el" href="classEGS__Application.html" title="Base class for advanced EGSnrc C++ applications.">EGS_Application</a> classes (e.g. the particle source itself may be derived from <a class="el" href="classEGS__Application.html" title="Base class for advanced EGSnrc C++ applications.">EGS_Application</a>). In such cases, the <a class="el" href="classEGS__Application.html#a44b849306c441b4a68b09315f585fcc7" title="Set the active EGS_Application class.">setActiveApplication()</a> function must be called by each <a class="el" href="classEGS__Application.html" title="Base class for advanced EGSnrc C++ applications.">EGS_Application</a> instance before transporting particles. </p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00095">95</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>Referenced by <a class="el" href="egs__atomic__relaxations_8cpp_source.html#l00401">EGS_AtomicRelaxations::EGS_AtomicRelaxations()</a>, and <a class="el" href="egs__beam__source_8cpp_source.html#l00052">EGS_BeamSource::EGS_BeamSource()</a>.</p>

</div>
</div>
<a class="anchor" id="a44b849306c441b4a68b09315f585fcc7"></a><!-- doxytag: member="EGS_Application::setActiveApplication" ref="a44b849306c441b4a68b09315f585fcc7" args="(EGS_Application *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EGS_EXPORT void EGS_Application::setActiveApplication </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEGS__Application.html">EGS_Application</a> *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the active <a class="el" href="classEGS__Application.html" title="Base class for advanced EGSnrc C++ applications.">EGS_Application</a> class. </p>
<p>This function can be called from derived <a class="el" href="classEGS__Application.html" title="Base class for advanced EGSnrc C++ applications.">EGS_Application</a> classes before transporting particles with a pointer to itself in situations where there is more than one instance of EGS_Application-derived classes</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classEGS__Application.html#a0bacaf36aa14a5851c5dd6f8efd679ee" title="Get the active application.">activeApplication()</a>. </dd></dl>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00099">99</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a72f3f5e71d275799fc0c9bc2cb740b27"></a><!-- doxytag: member="EGS_Application::randomNumbersUsed" ref="a72f3f5e71d275799fc0c9bc2cb740b27" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EGS_I64 EGS_Application::randomNumbersUsed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the number of random numbers used. </p>
<p>The default implementation is to simply return the numbers used reported by the random number generator. Can be re-implemented in derived classes for more complex situations with correlated runs, etc. </p>

<p>Reimplemented in <a class="el" href="classEGS__AdvancedApplication.html#ab9dfdb336e7db115070f1138935b11fa">EGS_AdvancedApplication</a>.</p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00468">468</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__rndm_8h_source.html#l00118">EGS_RandomGenerator::numbersUsed()</a>, and <a class="el" href="egs__application_8h_source.html#l00931">rndm</a>.</p>

<p>Referenced by <a class="el" href="egs__run__control_8cpp_source.html#l00533">EGS_RunControl::finishSimulation()</a>.</p>

</div>
</div>
<a class="anchor" id="a7d1da15f46db2324773a2e65d02ef095"></a><!-- doxytag: member="EGS_Application::getElectronSteps" ref="a7d1da15f46db2324773a2e65d02ef095" args="(double &amp;ch_steps, double &amp;all_steps) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void EGS_Application::getElectronSteps </td>
          <td>(</td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>ch_steps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>all_steps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the number of electron steps taken. </p>
<p>The number of all steps taken (single scattering or condensed history) is assigned to <em>all_steps</em>, the number of condensed history steps to <em>ch_steps</em>. Double precision numbers are used here as this is how steps are counted in the mortran back-end. </p>

<p>Reimplemented in <a class="el" href="classEGS__AdvancedApplication.html#a1d9c258426bc0230ee1de96925745131">EGS_AdvancedApplication</a>.</p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00701">701</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

<p>Referenced by <a class="el" href="egs__run__control_8cpp_source.html#l00533">EGS_RunControl::finishSimulation()</a>.</p>

</div>
</div>
<a class="anchor" id="a3cf7f89d4e647ed33e1d9efc27ea65da"></a><!-- doxytag: member="EGS_Application::addState" ref="a3cf7f89d4e647ed33e1d9efc27ea65da" args="(istream &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EGS_Application::addState </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add data from a parallel job. </p>
<p>This function is called from within the loop over parallel jobs in the <a class="el" href="classEGS__Application.html#ad79975ab3d843f8535d2a223992a43ab" title="Combine results from parallel runs.">combineResults()</a> function and must add the data found in the stream <em>data</em> to the results accumulated so far by the application. The default implementation reads and adds data related to the particle source, the random number generator, the run control object and the number of statistically independent events simulated (<em>i.e</em>. the data saved in <a class="el" href="classEGS__Application.html#a5093794169ded8b633363e4efa45856b" title="Output intermediate results.">outputData()</a>).</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classEGS__Application.html#a5093794169ded8b633363e4efa45856b" title="Output intermediate results.">outputData()</a>, <a class="el" href="classEGS__Application.html#afee7822440bf2c01efaa2ee984d33f85" title="Read intermediate results.">readData()</a>, <a class="el" href="classEGS__Application.html#a2079fb68cea3fc40c5bc49ef93684c1a" title="Reset the application to a &#39;pristine&#39; state.">resetCounter()</a>. </dd></dl>

<p>Reimplemented in <a class="el" href="classEGS__AdvancedApplication.html#afcbb19952d15adab639d67aae2db166c">EGS_AdvancedApplication</a>.</p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00423">423</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__application_8h_source.html#l00979">a_objects_list</a>, <a class="el" href="egs__base__source_8h_source.html#l00207">EGS_BaseSource::addState()</a>, <a class="el" href="egs__application_8h_source.html#l00956">current_case</a>, <a class="el" href="egs__functions_8cpp_source.html#l00064">egsGetI64()</a>, <a class="el" href="egs__application_8h_source.html#l00957">last_case</a>, <a class="el" href="egs__application_8h_source.html#l00931">rndm</a>, <a class="el" href="egs__application_8h_source.html#l00932">run</a>, and <a class="el" href="egs__application_8h_source.html#l00930">source</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00434">combineResults()</a>.</p>

</div>
</div>
<a class="anchor" id="a2079fb68cea3fc40c5bc49ef93684c1a"></a><!-- doxytag: member="EGS_Application::resetCounter" ref="a2079fb68cea3fc40c5bc49ef93684c1a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EGS_Application::resetCounter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset the application to a 'pristine' state. </p>
<p>This function is called from within <a class="el" href="classEGS__Application.html#ad79975ab3d843f8535d2a223992a43ab" title="Combine results from parallel runs.">combineResults()</a> and must reset all variables and objects collecting information about the simulation. The default implementation sets <a class="el" href="classEGS__Application.html#a8b9c94245bddeb84bbda1af8018d12f2" title="The current case as returned from the source.">current_case</a> and <a class="el" href="classEGS__Application.html#a3b6078556ea6054228474eba59351cc5" title="The last case simulated.">last_case</a> to zero and calls the <code><a class="el" href="classEGS__Application.html#a2079fb68cea3fc40c5bc49ef93684c1a" title="Reset the application to a &#39;pristine&#39; state.">resetCounter()</a></code> functions of the run control object, the random number generator and the source. </p>

<p>Reimplemented in <a class="el" href="classEGS__AdvancedApplication.html#a014bd195880a2870c8e194a4e70ca65d">EGS_AdvancedApplication</a>.</p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00412">412</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__application_8h_source.html#l00979">a_objects_list</a>, <a class="el" href="egs__application_8h_source.html#l00956">current_case</a>, <a class="el" href="egs__application_8h_source.html#l00957">last_case</a>, <a class="el" href="egs__base__source_8h_source.html#l00220">EGS_BaseSource::resetCounter()</a>, <a class="el" href="egs__application_8h_source.html#l00931">rndm</a>, <a class="el" href="egs__application_8h_source.html#l00932">run</a>, and <a class="el" href="egs__application_8h_source.html#l00930">source</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00434">combineResults()</a>.</p>

</div>
</div>
<a class="anchor" id="ac6e9efe53e0f3868fd947e6da448a035"></a><!-- doxytag: member="EGS_Application::describeUserCode" ref="ac6e9efe53e0f3868fd947e6da448a035" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void EGS_Application::describeUserCode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Describe the user code. </p>
<p>This virtual function should be re-implemented in derived classes to output some useful and descriptive information about the user code to go into the log file. The default implementation does nothing. </p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00737">737</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

<p>Referenced by <a class="el" href="egs__advanced__application_8cpp_source.html#l00649">EGS_AdvancedApplication::finishSimulation()</a>, and <a class="el" href="egs__application_8cpp_source.html#l00516">initSimulation()</a>.</p>

</div>
</div>
<a class="anchor" id="a0155cb8c8b2b630d82654faf4b50214b"></a><!-- doxytag: member="EGS_Application::getArgument" ref="a0155cb8c8b2b630d82654faf4b50214b" args="(int &amp;argc, char **argv, const char *name1, const char *name2, string &amp;arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EGS_Application::getArgument </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finds a command line argument. </p>
<p>This function checks the <em>argc</em> command line arguments pointed to by <em>argv</em> for existence of an argument <em>name1</em> or <em>name2</em>. If the argument exists, it sets <em>arg</em> to the next command line argument and returns <code>true</code>. Otherwise it returns <code>false</code>.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classEGS__Application.html#ae090e0ea8481bcb77a9092fb8adb9d62" title="Finds a command line argument.">checkEnvironmentVar()</a> </dd></dl>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00342">342</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00184">EGS_Application()</a>, and <a class="el" href="egspp_8cpp_source.html#l00058">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ae090e0ea8481bcb77a9092fb8adb9d62"></a><!-- doxytag: member="EGS_Application::checkEnvironmentVar" ref="ae090e0ea8481bcb77a9092fb8adb9d62" args="(int &amp;argc, char **argv, const char *env, const char *n1, const char *n2, string &amp;var)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EGS_Application::checkEnvironmentVar </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>n1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>n2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finds a command line argument. </p>
<p>This function is similar to <a class="el" href="classEGS__Application.html#a0155cb8c8b2b630d82654faf4b50214b" title="Finds a command line argument.">getArgument()</a>, but if the arguments <em>n1</em> and <em>n2</em> are not given, it sets <em>var</em> from the environment variable <em>env</em> (if it is defined). </p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00116">116</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__functions_8cpp_source.html#l00117">egsFatal</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00184">EGS_Application()</a>, and <a class="el" href="egspp_8cpp_source.html#l00058">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a8e5b3e38cea9d77464cc1398401e4895"></a><!-- doxytag: member="EGS_Application::initGeometry" ref="a8e5b3e38cea9d77464cc1398401e4895" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EGS_Application::initGeometry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize the simulation geometry. </p>
<p>The default implementation of this function initializes the simulation geometry from the input provided in an input file and available in the <a class="el" href="classEGS__Application.html" title="Base class for advanced EGSnrc C++ applications.">EGS_Application</a> input object data member. Returns zero if the geometry initialization is successful, -1 if there is no input or 1 if the geometry construction failed. The user may re-implement this function to provide their own geometry initialization (e.g. a fixed geometry constructed directly instead of using an input file). This function is called from within the default implementation of the <a class="el" href="classEGS__Application.html#a5892c4a70103f7ab5c26426c50c90d0c" title="Initializes the EGSnrc application.">initSimulation()</a> function. </p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00473">473</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__application_8h_source.html#l00976">app_index</a>, <a class="el" href="egs__base__geometry_8cpp_source.html#l00387">EGS_BaseGeometry::createGeometry()</a>, <a class="el" href="egs__application_8h_source.html#l00929">geometry</a>, <a class="el" href="egs__application_8h_source.html#l00928">input</a>, <a class="el" href="egs__base__geometry_8h_source.html#l00565">EGS_BaseGeometry::ref()</a>, and <a class="el" href="egs__base__geometry_8cpp_source.html#l00296">EGS_BaseGeometry::setActiveGeometryList()</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00516">initSimulation()</a>.</p>

</div>
</div>
<a class="anchor" id="ac33a7611de1313de0b9b295ddff89938"></a><!-- doxytag: member="EGS_Application::initSource" ref="ac33a7611de1313de0b9b295ddff89938" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EGS_Application::initSource </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize the particle source. </p>
<p>The default implementation of this function initializes the particle source from the input provided in an input file and available in the <a class="el" href="classEGS__Application.html" title="Base class for advanced EGSnrc C++ applications.">EGS_Application</a> input object data member. Returns zero if the source initialization is successful, -1 if there is no input or 1 if the source construction failed. The user may re-implement this function to provide their own particle source initialization (e.g. a fixed source constructed directly instead of using an input file). This function is called from within the default implementation of the <a class="el" href="classEGS__Application.html#a5892c4a70103f7ab5c26426c50c90d0c" title="Initializes the EGSnrc application.">initSimulation()</a> function. </p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00483">483</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__base__source_8cpp_source.html#l00055">EGS_BaseSource::createSource()</a>, <a class="el" href="egs__application_8h_source.html#l00928">input</a>, <a class="el" href="egs__object__factory_8h_source.html#l00141">EGS_Object::ref()</a>, and <a class="el" href="egs__application_8h_source.html#l00930">source</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00516">initSimulation()</a>.</p>

</div>
</div>
<a class="anchor" id="a9c02051c5c1a05281a70e4ed72126547"></a><!-- doxytag: member="EGS_Application::initCrossSections" ref="a9c02051c5c1a05281a70e4ed72126547" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int EGS_Application::initCrossSections </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize the EGSnrc cross sections and cross section/transport options. </p>
<p>This function is re-implemented in the <a class="el" href="classEGS__AdvancedApplication.html" title="Base class for advanced EGSnrc applications based on the mortran EGSnrc back-end.">EGS_AdvancedApplication</a> class, from which EGSnrc applications using the mortran EGSnrc physics subroutines should be derived. The defualt implementation is to set transport parameter and cross section options from input between :start MC Transport parameter: and :stop MC Transport parameter: in the input file, to add the media names found in the geometry to the EGSnrc back-end and to call the <a class="el" href="egs__interface2_8h.html#ac2a138128f1c5cea7ae8cc81058ba329">egsHatch()</a> function to get the cross section data. This function is called from within the default implementation of the <a class="el" href="classEGS__Application.html#a5892c4a70103f7ab5c26426c50c90d0c" title="Initializes the EGSnrc application.">initSimulation()</a> function. </p>

<p>Reimplemented in <a class="el" href="classEGS__AdvancedApplication.html#a0e66bc7f3e7d1470bd25ae22cb31f4d0">EGS_AdvancedApplication</a>.</p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00822">822</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00516">initSimulation()</a>.</p>

</div>
</div>
<a class="anchor" id="a56fd2259ae9ea5cc0a5f1ddaa5f8adc7"></a><!-- doxytag: member="EGS_Application::initScoring" ref="a56fd2259ae9ea5cc0a5f1ddaa5f8adc7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int EGS_Application::initScoring </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize the scoring of quantities of interest. </p>
<p>This function is called from within the default implementation of the <a class="el" href="classEGS__Application.html#a5892c4a70103f7ab5c26426c50c90d0c" title="Initializes the EGSnrc application.">initSimulation()</a> function and must be re-implemented by the user to do all initializations related to the scoring of quantities of interest. </p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00831">831</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00516">initSimulation()</a>.</p>

</div>
</div>
<a class="anchor" id="a47d256a337ed07fde2f68fb1808f90d7"></a><!-- doxytag: member="EGS_Application::initRunControl" ref="a47d256a337ed07fde2f68fb1808f90d7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EGS_Application::initRunControl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Construct the run control object. </p>
<p>This function is called from within the default implementation of the <a class="el" href="classEGS__Application.html#a5892c4a70103f7ab5c26426c50c90d0c" title="Initializes the EGSnrc application.">initSimulation()</a> function and is expected to construct and initialize a run control object. A run control object provides quantities such as the number of particles to run, how many batches, how many histories in the next chunk for parallel runs, etc., that are needed in the <a class="el" href="classEGS__Application.html#ae664d8b5da98fe52520463797555b18e" title="Runs an EGSnrc simulation.">runSimulation()</a> method. The default implementation looks for input between :start run control: and :stop run control: in the input file and contructs the run control object from it. Two default run control objects can be used:</p>
<ul>
<li>simple: no parallel execution, etc.</li>
<li>parallel execution control using a job control file in the user code directory (which must therefore be on a NFS). </li>
</ul>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00492">492</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__application_8h_source.html#l00932">run</a>, and <a class="el" href="egs__application_8h_source.html#l00951">simple_run</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00516">initSimulation()</a>.</p>

</div>
</div>
<a class="anchor" id="a93ed62952e5e9d1de7e919dc21362ecb"></a><!-- doxytag: member="EGS_Application::initRNG" ref="a93ed62952e5e9d1de7e919dc21362ecb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EGS_Application::initRNG </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize the random number generator. </p>
<p>The default implementation of this function looks for the input section defined by :start rng definition: and :stop rng definition: in the input file and constucts a random generator of the given type using the initial seeds specified. If no such input is found, the default EGSnrc random number generator is used (currently ranmar). This function is called from within the default implementation of the <a class="el" href="classEGS__Application.html#a5892c4a70103f7ab5c26426c50c90d0c" title="Initializes the EGSnrc application.">initSimulation()</a> function. </p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00500">500</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__rndm_8cpp_source.html#l00293">EGS_RandomGenerator::createRNG()</a>, <a class="el" href="egs__rndm_8cpp_source.html#l00340">EGS_RandomGenerator::defaultRNG()</a>, <a class="el" href="egs__functions_8cpp_source.html#l00116">egsWarning</a>, <a class="el" href="egs__application_8h_source.html#l00948">i_parallel</a>, <a class="el" href="egs__application_8h_source.html#l00928">input</a>, <a class="el" href="egs__application_8h_source.html#l00948">n_parallel</a>, and <a class="el" href="egs__application_8h_source.html#l00931">rndm</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00516">initSimulation()</a>.</p>

</div>
</div>
<a class="anchor" id="ae850d69402abb050cf27c510ab8df91b"></a><!-- doxytag: member="EGS_Application::initEGSnrcBackEnd" ref="ae850d69402abb050cf27c510ab8df91b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int EGS_Application::initEGSnrcBackEnd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize the EGSnrc backend. </p>
<p>This function is re-implemented in the <a class="el" href="classEGS__AdvancedApplication.html" title="Base class for advanced EGSnrc applications based on the mortran EGSnrc back-end.">EGS_AdvancedApplication</a> class, from which EGSnrc applications using the mortran EGSnrc physics subroutines should be derived, to call the egs_set_defaults and egs_init1 mortran subroutines. egs_set_defaults sets default values for all variables needed in the simulation. egs_init1 opens the pegs file and various other data files, opens the input file and creates the working directory. This function is called from within the default implementation of the <a class="el" href="classEGS__Application.html#a5892c4a70103f7ab5c26426c50c90d0c" title="Initializes the EGSnrc application.">initSimulation()</a> function. </p>

<p>Reimplemented in <a class="el" href="classEGS__AdvancedApplication.html#aaf2be335611fd068daf82928dd89cef0">EGS_AdvancedApplication</a>.</p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00877">877</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00516">initSimulation()</a>.</p>

</div>
</div>
<a class="anchor" id="a72f6639371f2e63711c048901bb84cfe"></a><!-- doxytag: member="EGS_Application::initAusgabObjects" ref="a72f6639371f2e63711c048901bb84cfe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EGS_Application::initAusgabObjects </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize ausgab objects. </p>
<p>This function scans the input file for user input delimeted by <code>:start ausgab object definition:</code> and <code>:stop ausgab object definition:</code> and creates ausgab objects as requested by the user. </p>

<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00720">720</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__application_8cpp_source.html#l00706">addAusgabObject()</a>, <a class="el" href="egs__ausgab__object_8cpp_source.html#l00046">EGS_AusgabObject::createAusgabObjects()</a>, <a class="el" href="egs__ausgab__object_8cpp_source.html#l00074">EGS_AusgabObject::getObject()</a>, <a class="el" href="egs__application_8h_source.html#l00928">input</a>, and <a class="el" href="egs__ausgab__object_8cpp_source.html#l00072">EGS_AusgabObject::nObjects()</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00516">initSimulation()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a3aa6b3640802f7cd72b6679f589380"></a><!-- doxytag: member="EGS_Application::startNewShower" ref="a2a3aa6b3640802f7cd72b6679f589380" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int EGS_Application::startNewShower </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called just before the <a class="el" href="classEGS__Application.html#afbf53d298189867b6750c00bc8e528ba" title="Simulate a single shower.">shower()</a> function. </p>
<p>This function is called just before the <a class="el" href="classEGS__Application.html#afbf53d298189867b6750c00bc8e528ba" title="Simulate a single shower.">shower()</a> function from within the default implementation of the <a class="el" href="classEGS__Application.html#ab14a7252372ed6da1421f4778a3d0573" title="Simulates a single particle shower.">simulateSingleShower()</a> function. If the return value is not zero, <a class="el" href="classEGS__Application.html#afbf53d298189867b6750c00bc8e528ba" title="Simulate a single shower.">shower()</a> is not called and this value is used as a return value of <a class="el" href="classEGS__Application.html#ab14a7252372ed6da1421f4778a3d0573" title="Simulates a single particle shower.">simulateSingleShower()</a> </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="tutor7pp_8cpp-example.html#a37">tutor7pp.cpp</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="egs__application_8cpp_source.html#l00671">671</a> of file <a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a>.</p>

<p>References <a class="el" href="egs__application_8h_source.html#l00979">a_objects_list</a>, <a class="el" href="egs__application_8h_source.html#l00956">current_case</a>, and <a class="el" href="egs__application_8h_source.html#l00957">last_case</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00648">simulateSingleShower()</a>.</p>

</div>
</div>
<a class="anchor" id="aaf8421f19360d5a67f1025e6dbf0ce73"></a><!-- doxytag: member="EGS_Application::finishShower" ref="aaf8421f19360d5a67f1025e6dbf0ce73" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int EGS_Application::finishShower </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called just after the <a class="el" href="classEGS__Application.html#afbf53d298189867b6750c00bc8e528ba" title="Simulate a single shower.">shower()</a> function. </p>
<p>This function is called just after the <a class="el" href="classEGS__Application.html#afbf53d298189867b6750c00bc8e528ba" title="Simulate a single shower.">shower()</a> function from within the default implementation of the <a class="el" href="classEGS__Application.html#ab14a7252372ed6da1421f4778a3d0573" title="Simulates a single particle shower.">simulateSingleShower()</a> function and its return value is returned as the return value of <a class="el" href="classEGS__Application.html#ab14a7252372ed6da1421f4778a3d0573" title="Simulates a single particle shower.">simulateSingleShower()</a> </p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00908">908</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00648">simulateSingleShower()</a>.</p>

</div>
</div>
<a class="anchor" id="afbf53d298189867b6750c00bc8e528ba"></a><!-- doxytag: member="EGS_Application::shower" ref="afbf53d298189867b6750c00bc8e528ba" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int EGS_Application::shower </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Simulate a single shower. </p>
<p>This function is called from within the <a class="el" href="classEGS__Application.html#ab14a7252372ed6da1421f4778a3d0573" title="Simulates a single particle shower.">simulateSingleShower()</a> function and should transport one particle with parameters stored in the p protected data member of <a class="el" href="classEGS__Application.html" title="Base class for advanced EGSnrc C++ applications.">EGS_Application</a>. The default implementation does nothing. This function is reimplemented in <a class="el" href="classEGS__AdvancedApplication.html" title="Base class for advanced EGSnrc applications based on the mortran EGSnrc back-end.">EGS_AdvancedApplication</a> to call the mortran EGSnrc shower subroutine. </p>

<p>Reimplemented in <a class="el" href="classEGS__AdvancedApplication.html#aeb82ecc8a9747a2bb4b3524c06b69811">EGS_AdvancedApplication</a>.</p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00919">919</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00648">simulateSingleShower()</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a6fd58166cb82b03b7861e0a2352d7494"></a><!-- doxytag: member="EGS_Application::p" ref="a6fd58166cb82b03b7861e0a2352d7494" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structEGS__Particle.html">EGS_Particle</a> <a class="el" href="classEGS__Application.html#a6fd58166cb82b03b7861e0a2352d7494">EGS_Application::p</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Parameters of the particle that just entered the geometry </p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00954">954</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

<p>Referenced by <a class="el" href="egs__advanced__application_8cpp_source.html#l00625">EGS_AdvancedApplication::shower()</a>, and <a class="el" href="egs__application_8cpp_source.html#l00648">simulateSingleShower()</a>.</p>

</div>
</div>
<a class="anchor" id="ab382f1b191803900a08a11decdd71714"></a><!-- doxytag: member="EGS_Application::data_out" ref="ab382f1b191803900a08a11decdd71714" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ostream* <a class="el" href="classEGS__Application.html#ab382f1b191803900a08a11decdd71714">EGS_Application::data_out</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>data output stream </p>
<p>Points to the data stream opened for output in <a class="el" href="classEGS__Application.html#a5093794169ded8b633363e4efa45856b" title="Output intermediate results.">outputData()</a> </p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00964">964</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00727">finishSimulation()</a>, <a class="el" href="egs__application_8cpp_source.html#l00364">outputData()</a>, and <a class="el" href="egs__advanced__application_8cpp_source.html#l00685">EGS_AdvancedApplication::outputData()</a>.</p>

</div>
</div>
<a class="anchor" id="a978476a101fc626a2cfa8d2c18a244f9"></a><!-- doxytag: member="EGS_Application::data_in" ref="a978476a101fc626a2cfa8d2c18a244f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">istream* <a class="el" href="classEGS__Application.html#a978476a101fc626a2cfa8d2c18a244f9">EGS_Application::data_in</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>data input stream </p>
<p>Points to the data stream opened for input in <a class="el" href="classEGS__Application.html#afee7822440bf2c01efaa2ee984d33f85" title="Read intermediate results.">readData()</a> </p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00971">971</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00389">readData()</a>, and <a class="el" href="egs__advanced__application_8cpp_source.html#l00705">EGS_AdvancedApplication::readData()</a>.</p>

</div>
</div>
<a class="anchor" id="a9938e06c7b8f7ba3b2ff89c77db46a62"></a><!-- doxytag: member="EGS_Application::app_index" ref="a9938e06c7b8f7ba3b2ff89c77db46a62" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classEGS__Application.html#a9938e06c7b8f7ba3b2ff89c77db46a62">EGS_Application::app_index</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>the index of this application. </p>

<p>Definition at line <a class="el" href="egs__application_8h_source.html#l00976">976</a> of file <a class="el" href="egs__application_8h_source.html">egs_application.h</a>.</p>

<p>Referenced by <a class="el" href="egs__application_8cpp_source.html#l00184">EGS_Application()</a>, <a class="el" href="egs__advanced__application_8cpp_source.html#l00351">EGS_AdvancedApplication::helpInit()</a>, <a class="el" href="egs__application_8cpp_source.html#l00473">initGeometry()</a>, and <a class="el" href="egs__application_8cpp_source.html#l00679">~EGS_Application()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/ftessier/EGSnrc/github/EGSnrc-doc/HEN_HOUSE/egs++/<a class="el" href="egs__application_8h_source.html">egs_application.h</a></li>
<li>/home/ftessier/EGSnrc/github/EGSnrc-doc/HEN_HOUSE/egs++/<a class="el" href="egs__application_8cpp_source.html">egs_application.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
